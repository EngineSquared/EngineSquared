<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EngineSquared: /home/runner/work/EngineSquared/EngineSquared/src/plugin/sound/src/resource/SoundManager.hpp</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">EngineSquared<span id="projectnumber">&#160;0.2.0</span>
   </div>
   <div id="projectbrief">Open-source physics game engine written in C++. Developed as part of the 4th/5th year graduation project at Epitech (EIP).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d4/d40/_2home_2runner_2work_2EngineSquared_2EngineSquared_2src_2plugin_2sound_2src_2resource_2SoundManager_8hpp-example.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">/home/runner/work/EngineSquared/EngineSquared/src/plugin/sound/src/resource/SoundManager.hpp</div></div>
</div><!--header-->
<div class="contents">
<p>Add a custom audio callback.</p>
<p>Add a custom audio callback.</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">callback</td><td>The callback function to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../dc/df7/namespaceFunctionUtils.html#ad69146e625c850a0ebb3f7a8ae592f6c" title="FunctionID class to represent a unique identifier for functions.">FunctionUtils::FunctionID</a> Unique ID of the added callback.</dd></dl>
<p>auto callbackID = soundManager.AddCustomCallback([](ma_device* device, void* output, ma_uint32 frameCount) {});</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;map&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;miniaudio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string_view&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d3/d48/Engine_8hpp.html">Engine.hpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../da/da1/FunctionContainer_8hpp.html">FunctionContainer.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="../../df/da8/namespaceSound_1_1Resource.html">Sound::Resource</a> {</div>
<div class="line"> </div>
<div class="line"><span class="keyword">using </span><a id="a0" name="a0"></a><a class="code hl_typedef" href="../../df/da8/namespaceSound_1_1Resource.html#a8bd2b95c2978169cfbd1c19279684f27">CustomDataCallback</a> = std::function&lt;void(ma_device *pDevice, <span class="keywordtype">void</span> *pOutput, ma_uint32 frameCount)&gt;;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>SoundManager {</div>
<div class="line">  <span class="keyword">private</span>:</div>
<div class="line">    ma_result _result;</div>
<div class="line">    ma_device_config _deviceConfig;</div>
<div class="line">    ma_device _device;</div>
<div class="line">    <span class="keywordtype">bool</span> _deviceInit = <span class="keyword">false</span>;</div>
<div class="line">    ma_engine _engine;</div>
<div class="line">    <span class="keywordtype">bool</span> _engineInit = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Deferred error reporting for audio callback (avoid logging in real-time callback)</span></div>
<div class="line">    <span class="comment">// Bit flags: 0x1 = frame count too large, 0x2 = decoder read error, 0x4 = unknown format</span></div>
<div class="line">    std::atomic&lt;uint32_t&gt; _callbackErrorFlags{0};</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> uint32_t ERROR_FRAME_TOO_LARGE = 0x1;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> uint32_t ERROR_DECODER_READ = 0x2;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> uint32_t ERROR_UNKNOWN_FORMAT = 0x4;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_namespace" href="../../d5/d0b/namespaceSound.html">Sound</a> {</div>
<div class="line">        std::string name;</div>
<div class="line">        std::string path;</div>
<div class="line">        ma_decoder decoder;</div>
<div class="line">        ma_sound engineSound;</div>
<div class="line">        <span class="keywordtype">bool</span> loop = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordtype">bool</span> isPlaying = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordtype">bool</span> isPaused = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordtype">bool</span> hasEngineSound = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordtype">bool</span> usingEngine = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordtype">float</span> volume = 1.0f;</div>
<div class="line">        ma_uint64 loopStartFrame = 0;</div>
<div class="line">        ma_uint64 loopEndFrame = 0;</div>
<div class="line">        <span class="keywordtype">bool</span> decoderInitialized = <span class="keyword">false</span>;</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>TransparentHash {</div>
<div class="line">        <span class="keyword">using </span>is_transparent = void;</div>
<div class="line"> </div>
<div class="line">        std::size_t operator()(std::string_view key) <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> std::hash&lt;std::string_view&gt;{}(key); }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">struct </span>TransparentEqual {</div>
<div class="line">        <span class="keyword">using </span>is_transparent = void;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">bool</span> operator()(std::string_view lhs, std::string_view rhs) <span class="keyword">const</span> <span class="keyword">noexcept</span> { <span class="keywordflow">return</span> lhs == rhs; }</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    std::unordered_map&lt;std::string, Sound, TransparentHash, TransparentEqual&gt; _soundsToPlay;</div>
<div class="line"> </div>
<div class="line">    <a id="_a1" name="_a1"></a><a class="code hl_class" href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html">FunctionUtils::FunctionContainer&lt;void, ma_device *, void *, ma_uint32&gt;</a> _customCallbacks;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <a id="a2" name="a2"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"> </div>
<div class="line">    <a id="a3" name="a3"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a0e413e2471cc624942c9adab16e9e7b3">~SoundManager</a>();</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a>(<span class="keyword">const</span> <a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a> &amp;<a id="a4" name="a4"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a8a68d21e1dccb57615f08a78a020ac57">operator=</a>(<span class="keyword">const</span> <a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a> &amp;) = <span class="keyword">delete</span>;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a>(<a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a> &amp;&amp;other) noexcept</div>
<div class="line">        : _result(other._result), _deviceConfig(other._deviceConfig), _device(other._device),</div>
<div class="line">          _deviceInit(other._deviceInit), _engine(other._engine), _engineInit(other._engineInit),</div>
<div class="line">          _callbackErrorFlags(other._callbackErrorFlags.load(std::memory_order_relaxed)),</div>
<div class="line">          _soundsToPlay(std::move(other._soundsToPlay)), _customCallbacks(std::move(other._customCallbacks))</div>
<div class="line">    {</div>
<div class="line">        other._deviceInit = <span class="keyword">false</span>;</div>
<div class="line">        other._engineInit = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a> &amp;<a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a8a68d21e1dccb57615f08a78a020ac57">operator=</a>(<a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a> &amp;&amp;other) <span class="keyword">noexcept</span></div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;other)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;[name, snd] : _soundsToPlay)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (snd.hasEngineSound)</div>
<div class="line">                    ma_sound_uninit(&amp;snd.engineSound);</div>
<div class="line">                <span class="keywordflow">if</span> (snd.decoderInitialized)</div>
<div class="line">                    ma_decoder_uninit(&amp;snd.decoder);</div>
<div class="line">            }</div>
<div class="line">            _soundsToPlay.clear();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (_deviceInit)</div>
<div class="line">            {</div>
<div class="line">                ma_device_stop(&amp;_device);</div>
<div class="line">                ma_device_uninit(&amp;_device);</div>
<div class="line">                _deviceInit = <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">if</span> (_engineInit)</div>
<div class="line">            {</div>
<div class="line">                ma_engine_uninit(&amp;_engine);</div>
<div class="line">                _engineInit = <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">            _result = other._result;</div>
<div class="line">            _deviceConfig = other._deviceConfig;</div>
<div class="line">            _device = other._device;</div>
<div class="line">            _deviceInit = other._deviceInit;</div>
<div class="line">            _engine = other._engine;</div>
<div class="line">            _engineInit = other._engineInit;</div>
<div class="line">            _callbackErrorFlags.store(other._callbackErrorFlags.load(std::memory_order_relaxed),</div>
<div class="line">                                      std::memory_order_relaxed);</div>
<div class="line">            _soundsToPlay = std::move(other._soundsToPlay);</div>
<div class="line">            _customCallbacks = std::move(other._customCallbacks);</div>
<div class="line">            other._deviceInit = <span class="keyword">false</span>;</div>
<div class="line">            other._engineInit = <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> <a id="a5" name="a5"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a86ef2b9fc31ec613e66e600feeb28e3e">data_callback</a>(ma_device *pDevice, <span class="keywordtype">void</span> *pOutput, <span class="keyword">const</span> <span class="keywordtype">void</span> * <span class="comment">/*pInput*/</span>, ma_uint32 frameCount)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> *core = <span class="keyword">static_cast&lt;</span><a id="_a6" name="_a6"></a><a class="code hl_class" href="../../d4/d18/classEngine_1_1Core.html">Engine::Core</a> *<span class="keyword">&gt;</span>(pDevice-&gt;pUserData);</div>
<div class="line">        <span class="keyword">auto</span> &amp;self = core-&gt;<a id="a7" name="a7"></a><a class="code hl_function" href="../../d4/d18/classEngine_1_1Core.html#a29ab23da9acb31dbd5b13fa935754451">GetResource</a>&lt;<a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">SoundManager</a>&gt;();</div>
<div class="line">        <span class="keyword">const</span> ma_uint32 channels = pDevice-&gt;playback.channels;</div>
<div class="line">        <span class="keyword">const</span> ma_uint32 totalSamples = frameCount * channels;</div>
<div class="line"> </div>
<div class="line">        std::memset(pOutput, 0, ma_get_bytes_per_frame(pDevice-&gt;playback.format, channels) * frameCount);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">const</span> <span class="keyword">auto</span> &amp;callbacks = self._customCallbacks.GetFunctions();</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;callback : callbacks)</div>
<div class="line">        {</div>
<div class="line">            (*callback)(pDevice, pOutput, frameCount);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        std::array&lt;float, 4096 * 2&gt; mixBuffer{};</div>
<div class="line">        <span class="keywordflow">if</span> (totalSamples &gt; mixBuffer.size())</div>
<div class="line">        {</div>
<div class="line">            self._callbackErrorFlags.fetch_or(ERROR_FRAME_TOO_LARGE, std::memory_order_relaxed);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;[name, sound] : self._soundsToPlay)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (sound.usingEngine || !sound.isPlaying || sound.isPaused || !sound.decoderInitialized)</div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line"> </div>
<div class="line">            std::array&lt;float, 4096 * 2&gt; tempBuffer{};</div>
<div class="line">            ma_uint64 framesRead = 0;</div>
<div class="line"> </div>
<div class="line">            ma_result result = ma_decoder_read_pcm_frames(&amp;sound.decoder, tempBuffer.data(), frameCount, &amp;framesRead);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (result != MA_SUCCESS &amp;&amp; result != MA_AT_END)</div>
<div class="line">            {</div>
<div class="line">                self._callbackErrorFlags.fetch_or(ERROR_DECODER_READ, std::memory_order_relaxed);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">for</span> (ma_uint32 i = 0; i &lt; framesRead * channels; ++i)</div>
<div class="line">            {</div>
<div class="line">                mixBuffer[i] += tempBuffer[i] * sound.volume;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (framesRead &lt; frameCount)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (sound.loop)</div>
<div class="line">                {</div>
<div class="line">                    ma_decoder_seek_to_pcm_frame(&amp;sound.decoder, sound.loopStartFrame);</div>
<div class="line">                }</div>
<div class="line">                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == MA_AT_END)</div>
<div class="line">                {</div>
<div class="line">                    sound.isPlaying = <span class="keyword">false</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (sound.loop &amp;&amp; sound.loopEndFrame &gt; 0)</div>
<div class="line">            {</div>
<div class="line">                ma_uint64 currentFrame = 0;</div>
<div class="line">                ma_decoder_get_cursor_in_pcm_frames(&amp;sound.decoder, &amp;currentFrame);</div>
<div class="line">                <span class="keywordflow">if</span> (currentFrame &gt;= sound.loopEndFrame)</div>
<div class="line">                {</div>
<div class="line">                    ma_decoder_seek_to_pcm_frame(&amp;sound.decoder, sound.loopStartFrame);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> (pDevice-&gt;playback.format)</div>
<div class="line">        {</div>
<div class="line">        <span class="keywordflow">case</span> ma_format_f32: {</div>
<div class="line">            <span class="keyword">auto</span> *output = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span> *<span class="keyword">&gt;</span>(pOutput);</div>
<div class="line">            <span class="keywordflow">for</span> (ma_uint32 i = 0; i &lt; totalSamples; ++i)</div>
<div class="line">            {</div>
<div class="line">                output[i] += std::clamp(mixBuffer[i], -1.0f, 1.0f);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> ma_format_s32: {</div>
<div class="line">            <span class="keyword">auto</span> *output = <span class="keyword">static_cast&lt;</span>int32_t *<span class="keyword">&gt;</span>(pOutput);</div>
<div class="line">            <span class="keywordflow">for</span> (ma_uint32 i = 0; i &lt; totalSamples; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">float</span> sample = std::clamp(mixBuffer[i], -1.0f, 1.0f);</div>
<div class="line">                <span class="keyword">const</span> int64_t mixed = <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(output[i]) + <span class="keyword">static_cast&lt;</span>int64_t<span class="keyword">&gt;</span>(sample * 2147483647.0f);</div>
<div class="line">                output[i] = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(std::clamp&lt;int64_t&gt;(mixed, INT32_MIN, INT32_MAX));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> ma_format_s16: {</div>
<div class="line">            <span class="keyword">auto</span> *output = <span class="keyword">static_cast&lt;</span>int16_t *<span class="keyword">&gt;</span>(pOutput);</div>
<div class="line">            <span class="keywordflow">for</span> (ma_uint32 i = 0; i &lt; totalSamples; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">float</span> sample = std::clamp(mixBuffer[i], -1.0f, 1.0f);</div>
<div class="line">                <span class="keyword">const</span> int32_t mixed = <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(output[i]) + <span class="keyword">static_cast&lt;</span>int32_t<span class="keyword">&gt;</span>(sample * 32767.0f);</div>
<div class="line">                output[i] = <span class="keyword">static_cast&lt;</span>int16_t<span class="keyword">&gt;</span>(std::clamp&lt;int32_t&gt;(mixed, INT16_MIN, INT16_MAX));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> ma_format_u8: {</div>
<div class="line">            <span class="keyword">auto</span> *output = <span class="keyword">static_cast&lt;</span>uint8_t *<span class="keyword">&gt;</span>(pOutput);</div>
<div class="line">            <span class="keywordflow">for</span> (ma_uint32 i = 0; i &lt; totalSamples; ++i)</div>
<div class="line">            {</div>
<div class="line">                <span class="keywordtype">float</span> sample = std::clamp(mixBuffer[i], -1.0f, 1.0f);</div>
<div class="line">                <span class="keyword">const</span> <span class="keywordtype">int</span> mixed = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(output[i]) + <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(sample * 127.5f);</div>
<div class="line">                output[i] = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(std::clamp(mixed, 0, 255));</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">default</span>: self._callbackErrorFlags.fetch_or(ERROR_UNKNOWN_FORMAT, std::memory_order_relaxed); <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a8" name="a8"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#af4c52c4c46f714ab870db420f824787d">Init</a>(<a class="code hl_class" href="../../d4/d18/classEngine_1_1Core.html">Engine::Core</a> &amp;core)</div>
<div class="line">    {</div>
<div class="line">        _deviceConfig = ma_device_config_init(ma_device_type_playback);</div>
<div class="line">        _deviceConfig.playback.format = ma_format_unknown;</div>
<div class="line">        _deviceConfig.playback.channels = 2;</div>
<div class="line">        _deviceConfig.sampleRate = 44100;</div>
<div class="line">        _deviceConfig.dataCallback = <a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a86ef2b9fc31ec613e66e600feeb28e3e">SoundManager::data_callback</a>;</div>
<div class="line">        _deviceConfig.pUserData = &amp;core;</div>
<div class="line"> </div>
<div class="line">        _result = ma_device_init(NULL, &amp;_deviceConfig, &amp;_device);</div>
<div class="line">        <span class="keywordflow">if</span> (_result != MA_SUCCESS)</div>
<div class="line">        {</div>
<div class="line">            <a id="a9" name="a9"></a><a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Failed to init audio device: {}&quot;</span>, ma_result_description(_result)));</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        _result = ma_device_start(&amp;_device);</div>
<div class="line">        <span class="keywordflow">if</span> (_result != MA_SUCCESS)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Failed to start audio device: {}&quot;</span>, ma_result_description(_result)));</div>
<div class="line">            ma_device_uninit(&amp;_device);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            _deviceInit = <span class="keyword">true</span>;</div>
<div class="line">            <a id="a10" name="a10"></a><a class="code hl_function" href="../../d0/d45/namespaceLog.html#a1423ffcd222d8ec2afefb1c13e9fb3b1">Log::Info</a>(fmt::format(<span class="stringliteral">&quot;[Audio] Device started successfully. Device format={}, sample rate={}, channels={}&quot;</span>,</div>
<div class="line">                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(_device.playback.format), _device.sampleRate,</div>
<div class="line">                                  _device.playback.channels));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a11" name="a11"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a24b922968146d040afaf1a6fb5fb7b96">CheckCallbackErrors</a>()</div>
<div class="line">    {</div>
<div class="line">        uint32_t errors = _callbackErrorFlags.exchange(0, std::memory_order_relaxed);</div>
<div class="line">        <span class="keywordflow">if</span> (errors &amp; ERROR_FRAME_TOO_LARGE)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(<span class="stringliteral">&quot;[Audio] Frame count too large for mix buffer&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (errors &amp; ERROR_DECODER_READ)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(<span class="stringliteral">&quot;[Audio] Decoder read error occurred during playback&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">if</span> (errors &amp; ERROR_UNKNOWN_FORMAT)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(<span class="stringliteral">&quot;[Audio] Unknown audio format encountered during playback&quot;</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a12" name="a12"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a33dd7e08a908128209f01756e0e67982">RegisterSound</a>(<span class="keyword">const</span> std::string &amp;soundName, <span class="keyword">const</span> std::string &amp;filePath, <span class="keywordtype">bool</span> loop = <span class="keyword">false</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (_soundsToPlay.contains(soundName))</div>
<div class="line">        {</div>
<div class="line">            <a id="a13" name="a13"></a><a class="code hl_function" href="../../d0/d45/namespaceLog.html#a6a482c08dcd9b6b6863152b051323d01">Log::Warn</a>(fmt::format(<span class="stringliteral">&quot;Could not register: Sound \&quot;{}\&quot; already exists&quot;</span>, soundName));</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_namespace" href="../../d5/d0b/namespaceSound.html">Sound</a> sound;</div>
<div class="line">        sound.name = soundName;</div>
<div class="line">        sound.path = filePath;</div>
<div class="line">        sound.loop = loop;</div>
<div class="line">        sound.decoderInitialized = <span class="keyword">false</span>;</div>
<div class="line">        _soundsToPlay.emplace(soundName, std::move(sound));</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a14" name="a14"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#aeb27f77bebd77963fe9c5f1c86c2f80c">UnregisterSound</a>(<span class="keyword">const</span> std::string &amp;soundName)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (it-&gt;second.hasEngineSound)</div>
<div class="line">                ma_sound_uninit(&amp;it-&gt;second.engineSound);</div>
<div class="line">            <span class="keywordflow">if</span> (it-&gt;second.decoderInitialized)</div>
<div class="line">                ma_decoder_uninit(&amp;it-&gt;second.decoder);</div>
<div class="line">            _soundsToPlay.erase(it);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not unregister: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a15" name="a15"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a0c224f0c63c5c4decd22bb7dbe7207de">Play</a>(<span class="keyword">const</span> std::string &amp;soundName)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> &amp;snd = it-&gt;second;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (!snd.usingEngine &amp;&amp; !snd.decoderInitialized)</div>
<div class="line">            {</div>
<div class="line">                ma_decoder_config decoderConfig = ma_decoder_config_init(ma_format_f32, 2, 44100);</div>
<div class="line">                _result = ma_decoder_init_file(snd.path.c_str(), &amp;decoderConfig, &amp;snd.decoder);</div>
<div class="line">                <span class="keywordflow">if</span> (_result != MA_SUCCESS)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Failed to initialize the audio decoder for &#39;{}&#39;: {}&quot;</span>, snd.name,</div>
<div class="line">                                           ma_result_description(_result)));</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">                }</div>
<div class="line">                snd.decoderInitialized = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            snd.isPlaying = <span class="keyword">true</span>;</div>
<div class="line">            snd.isPaused = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (snd.usingEngine &amp;&amp; snd.hasEngineSound)</div>
<div class="line">            {</div>
<div class="line">                ma_sound_start(&amp;snd.engineSound);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not play: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a16" name="a16"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a18251c047711802f39192e8a1003870a">Stop</a>(<span class="keyword">const</span> std::string &amp;soundName)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> &amp;snd = it-&gt;second;</div>
<div class="line">            snd.isPlaying = <span class="keyword">false</span>;</div>
<div class="line">            snd.isPaused = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (snd.usingEngine &amp;&amp; snd.hasEngineSound)</div>
<div class="line">            {</div>
<div class="line">                ma_sound_stop(&amp;snd.engineSound);</div>
<div class="line">                ma_sound_seek_to_pcm_frame(&amp;snd.engineSound, 0);</div>
<div class="line">                <span class="keywordflow">if</span> (snd.decoderInitialized)</div>
<div class="line">                    ma_decoder_seek_to_pcm_frame(&amp;snd.decoder, 0);</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (snd.decoderInitialized)</div>
<div class="line">                    ma_decoder_seek_to_pcm_frame(&amp;snd.decoder, 0);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not stop: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a17" name="a17"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#af5e141943f59da71b80390f2266d0703">Pause</a>(<span class="keyword">const</span> std::string &amp;soundName)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> &amp;snd = it-&gt;second;</div>
<div class="line">            snd.isPaused = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (snd.usingEngine &amp;&amp; snd.hasEngineSound)</div>
<div class="line">            {</div>
<div class="line">                ma_sound_stop(&amp;snd.engineSound);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not pause: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a id="a18" name="a18"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a7d970a907d723541a1e25cc1bf09d6d9">IsPlaying</a>(<span class="keyword">const</span> std::string &amp;soundName)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">return</span> it-&gt;second.isPlaying &amp;&amp; !it-&gt;second.isPaused;</div>
<div class="line">        }</div>
<div class="line">        <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not verify playing status: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a19" name="a19"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a7aa6431b22ec4903e5a2d9f5ca8aef5d">SetVolume</a>(<span class="keyword">const</span> std::string &amp;soundName, <span class="keywordtype">float</span> volume)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            it-&gt;second.volume = std::clamp(volume, 0.0f, 1.0f);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not set volume: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a20" name="a20"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a3a9eb7139f1cf119a14f18b962f34aeb">SetPitch</a>(<span class="keyword">const</span> std::string &amp;soundName, <span class="keywordtype">float</span> pitch)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> &amp;snd = it-&gt;second;</div>
<div class="line">            <span class="keywordflow">if</span> (pitch &lt;= 0.01f)</div>
<div class="line">                pitch = 0.01f;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (!_engineInit)</div>
<div class="line">            {</div>
<div class="line">                ma_engine_config cfg = ma_engine_config_init();</div>
<div class="line">                cfg.sampleRate = _device.sampleRate;</div>
<div class="line">                ma_result r = ma_engine_init(&amp;cfg, &amp;_engine);</div>
<div class="line">                <span class="keywordflow">if</span> (r != MA_SUCCESS)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Failed to init ma_engine: {}&quot;</span>, ma_result_description(r)));</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">                }</div>
<div class="line">                _engineInit = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (!snd.hasEngineSound)</div>
<div class="line">            {</div>
<div class="line">                ma_result r = ma_sound_init_from_file(&amp;_engine, snd.path.c_str(), MA_SOUND_FLAG_STREAM, NULL, NULL,</div>
<div class="line">                                                      &amp;snd.engineSound);</div>
<div class="line">                <span class="keywordflow">if</span> (r != MA_SUCCESS)</div>
<div class="line">                {</div>
<div class="line">                    <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Failed to init ma_sound for &#39;{}&#39;: {}&quot;</span>, snd.name, ma_result_description(r)));</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">                }</div>
<div class="line">                snd.hasEngineSound = <span class="keyword">true</span>;</div>
<div class="line">                snd.usingEngine = <span class="keyword">true</span>;</div>
<div class="line">                ma_sound_set_looping(&amp;snd.engineSound, snd.loop ? MA_TRUE : MA_FALSE);</div>
<div class="line">                ma_sound_set_volume(&amp;snd.engineSound, snd.volume);</div>
<div class="line"> </div>
<div class="line">                ma_uint64 cursor = 0u;</div>
<div class="line">                <span class="keywordflow">if</span> (snd.decoderInitialized)</div>
<div class="line">                {</div>
<div class="line">                    ma_decoder_get_cursor_in_pcm_frames(&amp;snd.decoder, &amp;cursor);</div>
<div class="line">                }</div>
<div class="line">                ma_sound_seek_to_pcm_frame(&amp;snd.engineSound, cursor);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">if</span> (snd.isPlaying &amp;&amp; !snd.isPaused)</div>
<div class="line">                {</div>
<div class="line">                    ma_sound_start(&amp;snd.engineSound);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (snd.hasEngineSound)</div>
<div class="line">            {</div>
<div class="line">                ma_sound_set_pitch(&amp;snd.engineSound, pitch);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not set pitch: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a21" name="a21"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a479cf6c88d8d2a5634b5f1c3dea2581b">SetLoop</a>(<span class="keyword">const</span> std::string &amp;soundName, <span class="keywordtype">bool</span> shouldLoop)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            it-&gt;second.loop = shouldLoop;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not set loop: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a22" name="a22"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a8f86d0fb51a46772cbe567f20198f391">SetLoopPoints</a>(<span class="keyword">const</span> std::string &amp;soundName, <span class="keywordtype">float</span> startSeconds, <span class="keywordtype">float</span> endSeconds = 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it != _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <span class="keyword">auto</span> &amp;decoder = it-&gt;second.decoder;</div>
<div class="line">            ma_uint64 sampleRate = decoder.outputSampleRate;</div>
<div class="line">            ma_uint64 totalFrames;</div>
<div class="line">            <span class="keywordflow">if</span> (ma_decoder_get_length_in_pcm_frames(&amp;decoder, &amp;totalFrames) != MA_SUCCESS)</div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(</div>
<div class="line">                    fmt::format(<span class="stringliteral">&quot;Something went wrong while computing PCM frames length of sound \&quot;{}\&quot;&quot;</span>, soundName));</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            ma_uint64 startFrame = <span class="keyword">static_cast&lt;</span>ma_uint64<span class="keyword">&gt;</span>(startSeconds * sampleRate);</div>
<div class="line">            ma_uint64 endFrame = (endSeconds &gt; 0.0f) ? <span class="keyword">static_cast&lt;</span>ma_uint64<span class="keyword">&gt;</span>(endSeconds * sampleRate) : totalFrames;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (startFrame &gt;= totalFrames || endFrame &gt; totalFrames || startFrame &gt;= endFrame)</div>
<div class="line">            {</div>
<div class="line">                <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a6a482c08dcd9b6b6863152b051323d01">Log::Warn</a>(fmt::format(<span class="stringliteral">&quot;Invalid loop range for \&quot;{}\&quot;: {}s to {}s, ignored&quot;</span>, soundName, startSeconds,</div>
<div class="line">                                      endSeconds));</div>
<div class="line">                <span class="keywordflow">return</span>;</div>
<div class="line">            }</div>
<div class="line">            it-&gt;second.loopStartFrame = startFrame;</div>
<div class="line">            it-&gt;second.loopEndFrame = endFrame;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not set loop points: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">double</span> <a id="a23" name="a23"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a86ef8c2863e8a2d6c87a540a5c8f3155">GetPlayPosition</a>(<span class="keyword">const</span> std::string &amp;soundName)</div>
<div class="line">    {</div>
<div class="line">        <span class="keyword">auto</span> it = _soundsToPlay.find(soundName);</div>
<div class="line">        <span class="keywordflow">if</span> (it == _soundsToPlay.end())</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not get the playback position: Sound \&quot;{}\&quot; does not exist&quot;</span>, soundName));</div>
<div class="line">            <span class="keywordflow">return</span> -1.0f;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_namespace" href="../../d5/d0b/namespaceSound.html">Sound</a> &amp;sound = it-&gt;second;</div>
<div class="line">        <span class="keywordflow">if</span> (!sound.isPlaying)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a6a482c08dcd9b6b6863152b051323d01">Log::Warn</a>(fmt::format(<span class="stringliteral">&quot;Sound \&quot;{}\&quot; is not currently playing&quot;</span>, soundName));</div>
<div class="line">            <span class="keywordflow">return</span> 0.0f;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        ma_uint64 currentFrame;</div>
<div class="line">        _result = ma_decoder_get_cursor_in_pcm_frames(&amp;sound.decoder, &amp;currentFrame);</div>
<div class="line">        <span class="keywordflow">if</span> (_result != MA_SUCCESS)</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not get the playback position: {}&quot;</span>, ma_result_description(_result)));</div>
<div class="line">            <span class="keywordflow">return</span> -1.0f;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordtype">double</span> position = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(currentFrame) / sound.decoder.outputSampleRate;</div>
<div class="line">        <span class="keywordflow">return</span> position;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <a class="code hl_typedef" href="../../dc/df7/namespaceFunctionUtils.html#ad69146e625c850a0ebb3f7a8ae592f6c">FunctionUtils::FunctionID</a> <a id="a24" name="a24"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#ab3d63de2250eecb5f1b6c51ba4c28de1">AddCustomCallback</a>(<span class="keyword">const</span> <a class="code hl_typedef" href="../../df/da8/namespaceSound_1_1Resource.html#a8bd2b95c2978169cfbd1c19279684f27">CustomDataCallback</a> &amp;callback)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> _customCallbacks.<a id="a25" name="a25"></a><a class="code hl_function" href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#a7be2efd8b242c3e6867ecc1b9a4c08d0">AddFunction</a>(callback);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a id="a26" name="a26"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#af572bcec52061fce852e2aa8399a8244">RemoveCustomCallback</a>(<a class="code hl_typedef" href="../../dc/df7/namespaceFunctionUtils.html#ad69146e625c850a0ebb3f7a8ae592f6c">FunctionUtils::FunctionID</a> <span class="keywordtype">id</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!_customCallbacks.<a id="a27" name="a27"></a><a class="code hl_function" href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#ad576785cd9f69968ea6af38cb55fb3fb">Contains</a>(<span class="keywordtype">id</span>))</div>
<div class="line">        {</div>
<div class="line">            <a class="code hl_function" href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a>(fmt::format(<span class="stringliteral">&quot;Could not remove: Custom callback with ID {} does not exist&quot;</span>, <span class="keywordtype">id</span>));</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">        _customCallbacks.<a id="a28" name="a28"></a><a class="code hl_function" href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#aec76d963da335a93184ec8412f0376b7">DeleteFunction</a>(<span class="keywordtype">id</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a id="a29" name="a29"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a56b8d7b0f4a0181831bcaabb491e598b">HasCustomCallback</a>(<a class="code hl_typedef" href="../../dc/df7/namespaceFunctionUtils.html#ad69146e625c850a0ebb3f7a8ae592f6c">FunctionUtils::FunctionID</a> <span class="keywordtype">id</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> _customCallbacks.<a class="code hl_function" href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#ad576785cd9f69968ea6af38cb55fb3fb">Contains</a>(<span class="keywordtype">id</span>); }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">inline</span> <span class="keywordtype">void</span> <a id="a30" name="a30"></a><a class="code hl_function" href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#aba4c19736f79d36a89e04fc942c6f5c1">ClearCustomCallbacks</a>()</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Delete all callbacks by iterating and collecting IDs first</span></div>
<div class="line">        std::vector&lt;FunctionUtils::FunctionID&gt; ids;</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;func : _customCallbacks.<a id="a31" name="a31"></a><a class="code hl_function" href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#a595e14ee35a7a197e35bf9a3744eb303">GetFunctions</a>())</div>
<div class="line">        {</div>
<div class="line">            ids.push_back(func-&gt;GetID());</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keywordtype">id</span> : ids)</div>
<div class="line">        {</div>
<div class="line">            _customCallbacks.<a class="code hl_function" href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#aec76d963da335a93184ec8412f0376b7">DeleteFunction</a>(<span class="keywordtype">id</span>);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">} <span class="comment">// namespace Sound::Resource</span></div>
<div class="ttc" id="aEngine_8hpp_html"><div class="ttname"><a href="../../d3/d48/Engine_8hpp.html">Engine.hpp</a></div></div>
<div class="ttc" id="aFunctionContainer_8hpp_html"><div class="ttname"><a href="../../da/da1/FunctionContainer_8hpp.html">FunctionContainer.hpp</a></div></div>
<div class="ttc" id="aclassEngine_1_1Core_html"><div class="ttname"><a href="../../d4/d18/classEngine_1_1Core.html">Engine::Core</a></div><div class="ttdef"><b>Definition</b> Core.hpp:24</div></div>
<div class="ttc" id="aclassEngine_1_1Core_html_a29ab23da9acb31dbd5b13fa935754451"><div class="ttname"><a href="../../d4/d18/classEngine_1_1Core.html#a29ab23da9acb31dbd5b13fa935754451">Engine::Core::GetResource</a></div><div class="ttdeci">TResource &amp; GetResource()</div><div class="ttdef"><b>Definition</b> Core.inl:14</div></div>
<div class="ttc" id="aclassFunctionUtils_1_1FunctionContainer_html"><div class="ttname"><a href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html">FunctionUtils::FunctionContainer</a></div><div class="ttdoc">Container for functions, allowing for dynamic storage and invocation.</div><div class="ttdef"><b>Definition</b> FunctionContainer.hpp:14</div></div>
<div class="ttc" id="aclassFunctionUtils_1_1FunctionContainer_html_a595e14ee35a7a197e35bf9a3744eb303"><div class="ttname"><a href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#a595e14ee35a7a197e35bf9a3744eb303">FunctionUtils::FunctionContainer::GetFunctions</a></div><div class="ttdeci">const std::list&lt; std::unique_ptr&lt; FunctionType &gt; &gt; &amp; GetFunctions()</div><div class="ttdoc">Gets the list of functions in the container.</div><div class="ttdef"><b>Definition</b> FunctionContainer.hpp:87</div></div>
<div class="ttc" id="aclassFunctionUtils_1_1FunctionContainer_html_a7be2efd8b242c3e6867ecc1b9a4c08d0"><div class="ttname"><a href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#a7be2efd8b242c3e6867ecc1b9a4c08d0">FunctionUtils::FunctionContainer::AddFunction</a></div><div class="ttdeci">FunctionID AddFunction(TCallable callable)</div><div class="ttdoc">Adds a function to the container.</div></div>
<div class="ttc" id="aclassFunctionUtils_1_1FunctionContainer_html_ad576785cd9f69968ea6af38cb55fb3fb"><div class="ttname"><a href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#ad576785cd9f69968ea6af38cb55fb3fb">FunctionUtils::FunctionContainer::Contains</a></div><div class="ttdeci">bool Contains(FunctionID id) const</div><div class="ttdef"><b>Definition</b> FunctionContainer.hpp:108</div></div>
<div class="ttc" id="aclassFunctionUtils_1_1FunctionContainer_html_aec76d963da335a93184ec8412f0376b7"><div class="ttname"><a href="../../d1/dce/classFunctionUtils_1_1FunctionContainer.html#aec76d963da335a93184ec8412f0376b7">FunctionUtils::FunctionContainer::DeleteFunction</a></div><div class="ttdeci">std::unique_ptr&lt; FunctionType &gt; DeleteFunction(FunctionID id)</div><div class="ttdoc">Deletes a function from the container.</div><div class="ttdef"><b>Definition</b> FunctionContainer.inl:60</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a0c224f0c63c5c4decd22bb7dbe7207de"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a0c224f0c63c5c4decd22bb7dbe7207de">Sound::Resource::SoundManager::Play</a></div><div class="ttdeci">void Play(const std::string &amp;soundName)</div><div class="ttdoc">Play the target sound.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:383</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a0e413e2471cc624942c9adab16e9e7b3"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a0e413e2471cc624942c9adab16e9e7b3">Sound::Resource::SoundManager::~SoundManager</a></div><div class="ttdeci">~SoundManager()</div><div class="ttdef"><b>Definition</b> SoundManager.cpp:6</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a18251c047711802f39192e8a1003870a"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a18251c047711802f39192e8a1003870a">Sound::Resource::SoundManager::Stop</a></div><div class="ttdeci">void Stop(const std::string &amp;soundName)</div><div class="ttdoc">Stop the target sound.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:424</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a24b922968146d040afaf1a6fb5fb7b96"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a24b922968146d040afaf1a6fb5fb7b96">Sound::Resource::SoundManager::CheckCallbackErrors</a></div><div class="ttdeci">void CheckCallbackErrors()</div><div class="ttdoc">Check and log any deferred errors from the audio callback.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:310</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a33dd7e08a908128209f01756e0e67982"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a33dd7e08a908128209f01756e0e67982">Sound::Resource::SoundManager::RegisterSound</a></div><div class="ttdeci">void RegisterSound(const std::string &amp;soundName, const std::string &amp;filePath, bool loop=false)</div><div class="ttdoc">Register the provided sound file.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:336</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a3a9eb7139f1cf119a14f18b962f34aeb"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a3a9eb7139f1cf119a14f18b962f34aeb">Sound::Resource::SoundManager::SetPitch</a></div><div class="ttdeci">void SetPitch(const std::string &amp;soundName, float pitch)</div><div class="ttdoc">Set the playback pitch (speed) for a sound.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:520</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a479cf6c88d8d2a5634b5f1c3dea2581b"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a479cf6c88d8d2a5634b5f1c3dea2581b">Sound::Resource::SoundManager::SetLoop</a></div><div class="ttdeci">void SetLoop(const std::string &amp;soundName, bool shouldLoop)</div><div class="ttdoc">Set whether the sound should loop.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:586</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a56b8d7b0f4a0181831bcaabb491e598b"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a56b8d7b0f4a0181831bcaabb491e598b">Sound::Resource::SoundManager::HasCustomCallback</a></div><div class="ttdeci">bool HasCustomCallback(FunctionUtils::FunctionID id) const</div><div class="ttdoc">Check if a custom callback exists by its ID.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:712</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a62e5732db7721b0730a31b1a11adbbac"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a62e5732db7721b0730a31b1a11adbbac">Sound::Resource::SoundManager::SoundManager</a></div><div class="ttdeci">SoundManager()=default</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a7aa6431b22ec4903e5a2d9f5ca8aef5d"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a7aa6431b22ec4903e5a2d9f5ca8aef5d">Sound::Resource::SoundManager::SetVolume</a></div><div class="ttdeci">void SetVolume(const std::string &amp;soundName, float volume)</div><div class="ttdoc">Set the volume of a specific sound.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:502</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a7d970a907d723541a1e25cc1bf09d6d9"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a7d970a907d723541a1e25cc1bf09d6d9">Sound::Resource::SoundManager::IsPlaying</a></div><div class="ttdeci">bool IsPlaying(const std::string &amp;soundName)</div><div class="ttdoc">Check if the target sound is playing.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:485</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a86ef2b9fc31ec613e66e600feeb28e3e"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a86ef2b9fc31ec613e66e600feeb28e3e">Sound::Resource::SoundManager::data_callback</a></div><div class="ttdeci">static void data_callback(ma_device *pDevice, void *pOutput, const void *, ma_uint32 frameCount)</div><div class="ttdoc">Audio data callback used by the playback device to fill the output buffer.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:159</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a86ef8c2863e8a2d6c87a540a5c8f3155"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a86ef8c2863e8a2d6c87a540a5c8f3155">Sound::Resource::SoundManager::GetPlayPosition</a></div><div class="ttdeci">double GetPlayPosition(const std::string &amp;soundName)</div><div class="ttdoc">Get the current playback position of a sound in seconds.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:648</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a8a68d21e1dccb57615f08a78a020ac57"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a8a68d21e1dccb57615f08a78a020ac57">Sound::Resource::SoundManager::operator=</a></div><div class="ttdeci">SoundManager &amp; operator=(const SoundManager &amp;)=delete</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_a8f86d0fb51a46772cbe567f20198f391"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#a8f86d0fb51a46772cbe567f20198f391">Sound::Resource::SoundManager::SetLoopPoints</a></div><div class="ttdeci">void SetLoopPoints(const std::string &amp;soundName, float startSeconds, float endSeconds=0)</div><div class="ttdoc">Set the loop start and end points for a sound.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:606</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_ab3d63de2250eecb5f1b6c51ba4c28de1"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#ab3d63de2250eecb5f1b6c51ba4c28de1">Sound::Resource::SoundManager::AddCustomCallback</a></div><div class="ttdeci">FunctionUtils::FunctionID AddCustomCallback(const CustomDataCallback &amp;callback)</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:684</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_aba4c19736f79d36a89e04fc942c6f5c1"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#aba4c19736f79d36a89e04fc942c6f5c1">Sound::Resource::SoundManager::ClearCustomCallbacks</a></div><div class="ttdeci">void ClearCustomCallbacks()</div><div class="ttdoc">Clear all custom callbacks.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:717</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_aeb27f77bebd77963fe9c5f1c86c2f80c"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#aeb27f77bebd77963fe9c5f1c86c2f80c">Sound::Resource::SoundManager::UnregisterSound</a></div><div class="ttdeci">void UnregisterSound(const std::string &amp;soundName)</div><div class="ttdoc">Unregister the target sound file from the sound vector.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:359</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_af4c52c4c46f714ab870db420f824787d"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#af4c52c4c46f714ab870db420f824787d">Sound::Resource::SoundManager::Init</a></div><div class="ttdeci">void Init(Engine::Core &amp;core)</div><div class="ttdoc">Initialize the sound system.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:273</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_af572bcec52061fce852e2aa8399a8244"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#af572bcec52061fce852e2aa8399a8244">Sound::Resource::SoundManager::RemoveCustomCallback</a></div><div class="ttdeci">bool RemoveCustomCallback(FunctionUtils::FunctionID id)</div><div class="ttdoc">Remove a custom audio callback by its ID.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:695</div></div>
<div class="ttc" id="aclassSound_1_1Resource_1_1SoundManager_html_af5e141943f59da71b80390f2266d0703"><div class="ttname"><a href="../../dd/d6e/classSound_1_1Resource_1_1SoundManager.html#af5e141943f59da71b80390f2266d0703">Sound::Resource::SoundManager::Pause</a></div><div class="ttdeci">void Pause(const std::string &amp;soundName)</div><div class="ttdoc">Pause the target sound.</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:459</div></div>
<div class="ttc" id="anamespaceFunctionUtils_html_ad69146e625c850a0ebb3f7a8ae592f6c"><div class="ttname"><a href="../../dc/df7/namespaceFunctionUtils.html#ad69146e625c850a0ebb3f7a8ae592f6c">FunctionUtils::FunctionID</a></div><div class="ttdeci">std::size_t FunctionID</div><div class="ttdoc">FunctionID class to represent a unique identifier for functions.</div><div class="ttdef"><b>Definition</b> FunctionID.hpp:9</div></div>
<div class="ttc" id="anamespaceLog_html_a1423ffcd222d8ec2afefb1c13e9fb3b1"><div class="ttname"><a href="../../d0/d45/namespaceLog.html#a1423ffcd222d8ec2afefb1c13e9fb3b1">Log::Info</a></div><div class="ttdeci">void Info(const T &amp;msg) noexcept</div><div class="ttdef"><b>Definition</b> Logger.hpp:17</div></div>
<div class="ttc" id="anamespaceLog_html_a57f205dd59a28db869b6be0bd2441660"><div class="ttname"><a href="../../d0/d45/namespaceLog.html#a57f205dd59a28db869b6be0bd2441660">Log::Error</a></div><div class="ttdeci">void Error(const T &amp;msg) noexcept</div><div class="ttdef"><b>Definition</b> Logger.hpp:21</div></div>
<div class="ttc" id="anamespaceLog_html_a6a482c08dcd9b6b6863152b051323d01"><div class="ttname"><a href="../../d0/d45/namespaceLog.html#a6a482c08dcd9b6b6863152b051323d01">Log::Warn</a></div><div class="ttdeci">void Warn(const T &amp;msg) noexcept</div><div class="ttdef"><b>Definition</b> Logger.hpp:19</div></div>
<div class="ttc" id="anamespaceSound_1_1Resource_html"><div class="ttname"><a href="../../df/da8/namespaceSound_1_1Resource.html">Sound::Resource</a></div><div class="ttdef"><b>Definition</b> SoundManager.cpp:5</div></div>
<div class="ttc" id="anamespaceSound_1_1Resource_html_a8bd2b95c2978169cfbd1c19279684f27"><div class="ttname"><a href="../../df/da8/namespaceSound_1_1Resource.html#a8bd2b95c2978169cfbd1c19279684f27">Sound::Resource::CustomDataCallback</a></div><div class="ttdeci">std::function&lt; void(ma_device *pDevice, void *pOutput, ma_uint32 frameCount)&gt; CustomDataCallback</div><div class="ttdef"><b>Definition</b> SoundManager.hpp:15</div></div>
<div class="ttc" id="anamespaceSound_html"><div class="ttname"><a href="../../d5/d0b/namespaceSound.html">Sound</a></div><div class="ttdef"><b>Definition</b> PluginSound.hpp:5</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
