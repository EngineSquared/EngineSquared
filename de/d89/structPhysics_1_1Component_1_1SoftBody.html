<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EngineSquared: Physics::Component::SoftBody Struct Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">EngineSquared<span id="projectnumber">&#160;0.2.0</span>
   </div>
   <div id="projectbrief">Open-source physics game engine written in C++. Developed as part of the 4th/5th year graduation project at Epitech (EIP).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('de/d89/structPhysics_1_1Component_1_1SoftBody.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../da/dc4/structPhysics_1_1Component_1_1SoftBody-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Physics::Component::SoftBody Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Soft body physics component.  
 <a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d4/db4/SoftBody_8hpp_source.html">SoftBody.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad6834be3b4e852cecef42cc67baf05c4" id="r_ad6834be3b4e852cecef42cc67baf05c4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ad6834be3b4e852cecef42cc67baf05c4">GetVertexCount</a> () const</td></tr>
<tr class="memdesc:ad6834be3b4e852cecef42cc67baf05c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of vertices (from invMasses size)  <br /></td></tr>
<tr class="separator:ad6834be3b4e852cecef42cc67baf05c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b9fc082ff21b2cb0714ae7a27eae7f4" id="r_a3b9fc082ff21b2cb0714ae7a27eae7f4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a3b9fc082ff21b2cb0714ae7a27eae7f4">GetEdgeCount</a> () const</td></tr>
<tr class="memdesc:a3b9fc082ff21b2cb0714ae7a27eae7f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of edge constraints.  <br /></td></tr>
<tr class="separator:a3b9fc082ff21b2cb0714ae7a27eae7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff297529f54a8d00ecb16bf185513ad5" id="r_aff297529f54a8d00ecb16bf185513ad5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#aff297529f54a8d00ecb16bf185513ad5">PinVertex</a> (uint32_t vertexIndex)</td></tr>
<tr class="memdesc:aff297529f54a8d00ecb16bf185513ad5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pin a vertex (fix it in space)  <br /></td></tr>
<tr class="separator:aff297529f54a8d00ecb16bf185513ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2d5ad0fc358606ede22ccbe5c80260" id="r_a4f2d5ad0fc358606ede22ccbe5c80260"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a4f2d5ad0fc358606ede22ccbe5c80260">UnpinVertex</a> (uint32_t vertexIndex, float mass=1.0f)</td></tr>
<tr class="memdesc:a4f2d5ad0fc358606ede22ccbe5c80260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unpin a vertex.  <br /></td></tr>
<tr class="separator:a4f2d5ad0fc358606ede22ccbe5c80260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb3b02d0deb127fea9cdeb6b0b3cbf1b" id="r_afb3b02d0deb127fea9cdeb6b0b3cbf1b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#afb3b02d0deb127fea9cdeb6b0b3cbf1b">IsVertexPinned</a> (uint32_t vertexIndex) const</td></tr>
<tr class="memdesc:afb3b02d0deb127fea9cdeb6b0b3cbf1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a vertex is pinned.  <br /></td></tr>
<tr class="separator:afb3b02d0deb127fea9cdeb6b0b3cbf1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e0b4d9479ac1e8bbaad7c6933b4e8a9" id="r_a8e0b4d9479ac1e8bbaad7c6933b4e8a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a8e0b4d9479ac1e8bbaad7c6933b4e8a9">IsValid</a> () const</td></tr>
<tr class="memdesc:a8e0b4d9479ac1e8bbaad7c6933b4e8a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the soft body configuration is valid.  <br /></td></tr>
<tr class="separator:a8e0b4d9479ac1e8bbaad7c6933b4e8a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2672e8d229d1b408f6c70fcf0bc8ad9" id="r_aa2672e8d229d1b408f6c70fcf0bc8ad9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#aa2672e8d229d1b408f6c70fcf0bc8ad9">SoftBody</a> ()=default</td></tr>
<tr class="memdesc:aa2672e8d229d1b408f6c70fcf0bc8ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor - creates an empty <a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html" title="Soft body physics component.">SoftBody</a>.  <br /></td></tr>
<tr class="separator:aa2672e8d229d1b408f6c70fcf0bc8ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fc2e4490ebd8fc166b7b2cd9e2f182b" id="r_a2fc2e4490ebd8fc166b7b2cd9e2f182b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a2fc2e4490ebd8fc166b7b2cd9e2f182b">SoftBody</a> (const <a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html">SoftBodySettings</a> &amp;<a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">settings</a>)</td></tr>
<tr class="memdesc:a2fc2e4490ebd8fc166b7b2cd9e2f182b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct with specific settings.  <br /></td></tr>
<tr class="separator:a2fc2e4490ebd8fc166b7b2cd9e2f182b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39749cfb90eec4d79a3e1982a1bc25e9" id="r_a39749cfb90eec4d79a3e1982a1bc25e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a39749cfb90eec4d79a3e1982a1bc25e9">SoftBody</a> (<a class="el" href="../../d6/db3/namespacePhysics_1_1Component.html#afba57893158b985c5e52d01c512d6903">SoftBodyType</a> bodyType, const <a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html">SoftBodySettings</a> &amp;<a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">settings</a>)</td></tr>
<tr class="memdesc:a39749cfb90eec4d79a3e1982a1bc25e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct with type and settings.  <br /></td></tr>
<tr class="separator:a39749cfb90eec4d79a3e1982a1bc25e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a792b9a969a617df5bdc1fd5a0d0ebd74" id="r_a792b9a969a617df5bdc1fd5a0d0ebd74"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db3/namespacePhysics_1_1Component.html#afba57893158b985c5e52d01c512d6903">SoftBodyType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a792b9a969a617df5bdc1fd5a0d0ebd74">type</a> = <a class="el" href="../../d6/db3/namespacePhysics_1_1Component.html#afba57893158b985c5e52d01c512d6903a90589c47f06eb971d548591f23c285af">SoftBodyType::Custom</a></td></tr>
<tr class="memdesc:a792b9a969a617df5bdc1fd5a0d0ebd74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of soft body (affects default settings)  <br /></td></tr>
<tr class="separator:a792b9a969a617df5bdc1fd5a0d0ebd74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accffbf98b0b23cc24cc8d51caee9973b" id="r_accffbf98b0b23cc24cc8d51caee9973b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html">SoftBodySettings</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">settings</a></td></tr>
<tr class="memdesc:accffbf98b0b23cc24cc8d51caee9973b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulation settings.  <br /></td></tr>
<tr class="separator:accffbf98b0b23cc24cc8d51caee9973b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7347762cc0daa6c3866eb3970cbedec" id="r_ac7347762cc0daa6c3866eb3970cbedec"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a></td></tr>
<tr class="memdesc:ac7347762cc0daa6c3866eb3970cbedec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vertex inverse masses (0 = pinned/fixed). Size must match Mesh.vertices.size()  <br /></td></tr>
<tr class="separator:ac7347762cc0daa6c3866eb3970cbedec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcc6de6d865d2af26b2893085f9e0c43" id="r_adcc6de6d865d2af26b2893085f9e0c43"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">pinnedVertices</a></td></tr>
<tr class="memdesc:adcc6de6d865d2af26b2893085f9e0c43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indices of pinned (fixed) vertices.  <br /></td></tr>
<tr class="separator:adcc6de6d865d2af26b2893085f9e0c43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b417ee650125a1d0c7dd7d874c6ed6" id="r_ab3b417ee650125a1d0c7dd7d874c6ed6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; uint32_t, uint32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ab3b417ee650125a1d0c7dd7d874c6ed6">edges</a></td></tr>
<tr class="memdesc:ab3b417ee650125a1d0c7dd7d874c6ed6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Edge constraints (pairs of vertex indices) for rope/chain without faces Auto-generated from Mesh.indices if empty.  <br /></td></tr>
<tr class="separator:ab3b417ee650125a1d0c7dd7d874c6ed6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbef14ace6e13556ae9dc34d3ab5f43" id="r_a0bbef14ace6e13556ae9dc34d3ab5f43"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="../../de/ded/structEngine_1_1EntityId.html">Engine::EntityId</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a0bbef14ace6e13556ae9dc34d3ab5f43">attachedEntityId</a> = std::nullopt</td></tr>
<tr class="memdesc:a0bbef14ace6e13556ae9dc34d3ab5f43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entity ID of the rigid body to attach to (optional) When set, kinematic vertices will follow this body's transform Use AttachToEntity() to set this properly.  <br /></td></tr>
<tr class="separator:a0bbef14ace6e13556ae9dc34d3ab5f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61a1cc4f936ee5cf95b025246ac60a86" id="r_a61a1cc4f936ee5cf95b025246ac60a86"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a61a1cc4f936ee5cf95b025246ac60a86">kinematicVertexPercent</a> = 0.0f</td></tr>
<tr class="memdesc:a61a1cc4f936ee5cf95b025246ac60a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Percentage of vertices to make kinematic (attachment points) [0.0 - 1.0] These are automatically selected from the "bottom" of the mesh (lowest Y) Set to 0 to disable automatic kinematic vertex selection.  <br /></td></tr>
<tr class="separator:a61a1cc4f936ee5cf95b025246ac60a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1dab6d14e0918d543cc4c0a7f6d48c" id="r_aaa1dab6d14e0918d543cc4c0a7f6d48c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#aaa1dab6d14e0918d543cc4c0a7f6d48c">kinematicVertexIndices</a></td></tr>
<tr class="memdesc:aaa1dab6d14e0918d543cc4c0a7f6d48c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manual list of vertex indices to make kinematic (in original mesh space) If non-empty, these are used instead of automatic selection.  <br /></td></tr>
<tr class="separator:aaa1dab6d14e0918d543cc4c0a7f6d48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Soft body physics component. </p>
<p>Represents the physics simulation data for a deformable object using Jolt's <a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html" title="Soft body physics component.">SoftBody</a> system. This component works in conjunction with <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Object::Component::Mesh</a> which holds the geometry.</p>
<h2><a class="anchor" id="architecture"></a>
Architecture</h2>
<ul>
<li><b>Mesh</b> (<a class="el" href="../../d6/d81/namespaceObject.html">Object</a> plugin): Contains vertices[], normals[], indices[] for rendering</li>
<li><b><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html" title="Soft body physics component.">SoftBody</a></b> (<a class="el" href="../../d8/d54/namespacePhysics.html">Physics</a> plugin): Contains physics settings and per-vertex physics data</li>
<li><b>Jolt</b>: Maintains internal vertex copy for simulation (unavoidable)</li>
</ul>
<p>The SoftBodySystem:</p><ol type="1">
<li>On construct: <b>Auto-detects</b> Mesh component and initializes physics data</li>
<li>On update: Writes Jolt simulation results back to Mesh.vertices</li>
</ol>
<h2><a class="anchor" id="usage"></a>
Usage</h2>
<p><b>From existing Mesh</b> (e.g., imported .obj): </p><div class="fragment"><div class="line"><span class="keyword">auto</span> mesh = OBJLoader(<span class="stringliteral">&quot;model.obj&quot;</span>).GetMesh();</div>
<div class="line"><span class="keyword">auto</span> teapot = core.CreateEntity();</div>
<div class="line">teapot.AddComponent&lt;Transform&gt;(core, position);</div>
<div class="line">teapot.AddComponent&lt;Mesh&gt;(core, mesh);</div>
<div class="line">teapot.AddComponent&lt;<a class="code hl_struct" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html">SoftBody</a>&gt;(core, <a class="code hl_function" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html#addc2ad53987c6fdba9648e564eaf0057">SoftBodySettings::Balloon</a>(5000.0f));</div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBodySettings_html_addc2ad53987c6fdba9648e564eaf0057"><div class="ttname"><a href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html#addc2ad53987c6fdba9648e564eaf0057">Physics::Component::SoftBodySettings::Balloon</a></div><div class="ttdeci">static SoftBodySettings Balloon(float pressure=1000.0f)</div><div class="ttdoc">Settings for pressure-based soft bodies (balloons)</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:166</div></div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBody_html"><div class="ttname"><a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html">Physics::Component::SoftBody</a></div><div class="ttdoc">Soft body physics component.</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:243</div></div>
</div><!-- fragment --><p><b>Procedural cloth</b> (using <a class="el" href="../../da/d00/namespaceObject_1_1Helper.html">Object::Helper</a>): </p><div class="fragment"><div class="line"><span class="keyword">auto</span> cloth = <a class="code hl_function" href="../../da/d00/namespaceObject_1_1Helper.html#a1e08004ff4c7ed7c04f4a1ee25570843">Object::Helper::CreateCloth</a>(core, 10, 10, 0.1f, position);</div>
<div class="line"><span class="keyword">auto</span>&amp; soft = cloth.AddComponent&lt;<a class="code hl_struct" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html">SoftBody</a>&gt;(core, <a class="code hl_function" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html#a27df03bcfe700e857e37b3076331c2d4">SoftBodySettings::Cloth</a>(0.5f));</div>
<div class="line">soft.<a class="code hl_function" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#aff297529f54a8d00ecb16bf185513ad5">PinVertex</a>(0);   <span class="comment">// Pin top-left corner</span></div>
<div class="line">soft.PinVertex(9);   <span class="comment">// Pin top-right corner</span></div>
<div class="ttc" id="anamespaceObject_1_1Helper_html_a1e08004ff4c7ed7c04f4a1ee25570843"><div class="ttname"><a href="../../da/d00/namespaceObject_1_1Helper.html#a1e08004ff4c7ed7c04f4a1ee25570843">Object::Helper::CreateCloth</a></div><div class="ttdeci">Engine::Entity CreateCloth(Engine::Core &amp;core, CreateClothInfo info)</div><div class="ttdef"><b>Definition</b> CreateShape.cpp:75</div></div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBodySettings_html_a27df03bcfe700e857e37b3076331c2d4"><div class="ttname"><a href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html#a27df03bcfe700e857e37b3076331c2d4">Physics::Component::SoftBodySettings::Cloth</a></div><div class="ttdeci">static SoftBodySettings Cloth(float stiffness=0.5f)</div><div class="ttdoc">Settings optimized for cloth simulation.</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:123</div></div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBody_html_aff297529f54a8d00ecb16bf185513ad5"><div class="ttname"><a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#aff297529f54a8d00ecb16bf185513ad5">Physics::Component::SoftBody::PinVertex</a></div><div class="ttdeci">void PinVertex(uint32_t vertexIndex)</div><div class="ttdoc">Pin a vertex (fix it in space)</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:304</div></div>
</div><!-- fragment --><p><b>Note</b>: Collider components (<a class="el" href="../../d4/d47/structPhysics_1_1Component_1_1BoxCollider.html">BoxCollider</a>, <a class="el" href="../../df/df2/structPhysics_1_1Component_1_1SphereCollider.html">SphereCollider</a>, etc.) are ignored for <a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html" title="Soft body physics component.">SoftBody</a>. Use <code><a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html#a5ce4b45baac5027df1210e5f14e171df" title="Vertex collision radius (for collision detection)">SoftBodySettings::vertexRadius</a></code> for collision detection.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Object::Component::Mesh</a> </dd>
<dd>
<a class="el" href="../../da/d00/namespaceObject_1_1Helper.html#a1e08004ff4c7ed7c04f4a1ee25570843">Object::Helper::CreateCloth</a> </dd>
<dd>
<a class="el" href="../../da/d00/namespaceObject_1_1Helper.html#a90daf26cf687219049ad5625b5d55a8a">Object::Helper::CreateRope</a> </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d6/d9d/Creating_01a_012-unit_01jelly_01cube_01with_015x5x5_01grid_1-example.html#_a2">Creating a 2-unit jelly cube with 5x5x5 grid:</a>, <a class="el" href="../../d5/d94/Creating_01a_01cloth_01for_01soft_01body_01simulation_1-example.html#_a2">Creating a cloth for soft body simulation:</a>, and <a class="el" href="../../d4/d1e/Creating_01a_01rope_01for_01soft_01body_01simulation_1-example.html#_a2">Creating a rope for soft body simulation:</a>.</dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa2672e8d229d1b408f6c70fcf0bc8ad9" name="aa2672e8d229d1b408f6c70fcf0bc8ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2672e8d229d1b408f6c70fcf0bc8ad9">&#9670;&#160;</a></span>SoftBody() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Physics::Component::SoftBody::SoftBody </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor - creates an empty <a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html" title="Soft body physics component.">SoftBody</a>. </p>
<p>The <a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html" title="Soft body physics component.">SoftBody</a> will be configured automatically when added to an entity that already has a Mesh component. The InitSoftBodySystem hook will:</p><ul>
<li>Auto-detect the Mesh and initialize invMasses</li>
<li>Generate edge constraints from mesh faces </li>
</ul>

</div>
</div>
<a id="a2fc2e4490ebd8fc166b7b2cd9e2f182b" name="a2fc2e4490ebd8fc166b7b2cd9e2f182b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc2e4490ebd8fc166b7b2cd9e2f182b">&#9670;&#160;</a></span>SoftBody() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Physics::Component::SoftBody::SoftBody </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html">SoftBodySettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct with specific settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>Simulation settings (use factory methods like <a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html#a27df03bcfe700e857e37b3076331c2d4" title="Settings optimized for cloth simulation.">SoftBodySettings::Cloth()</a>) </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  375</span>: <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">settings</a>(<a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">settings</a>) {}</div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBody_html_accffbf98b0b23cc24cc8d51caee9973b"><div class="ttname"><a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">Physics::Component::SoftBody::settings</a></div><div class="ttdeci">SoftBodySettings settings</div><div class="ttdoc">Simulation settings.</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:252</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a39749cfb90eec4d79a3e1982a1bc25e9" name="a39749cfb90eec4d79a3e1982a1bc25e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39749cfb90eec4d79a3e1982a1bc25e9">&#9670;&#160;</a></span>SoftBody() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Physics::Component::SoftBody::SoftBody </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/db3/namespacePhysics_1_1Component.html#afba57893158b985c5e52d01c512d6903">SoftBodyType</a>&#160;</td>
          <td class="paramname"><em>bodyType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html">SoftBodySettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct with type and settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bodyType</td><td>Type of soft body (affects internal processing) </td></tr>
    <tr><td class="paramname">settings</td><td>Simulation settings </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  382</span>: <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a792b9a969a617df5bdc1fd5a0d0ebd74">type</a>(bodyType), <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">settings</a>(<a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#accffbf98b0b23cc24cc8d51caee9973b">settings</a>) {}</div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBody_html_a792b9a969a617df5bdc1fd5a0d0ebd74"><div class="ttname"><a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#a792b9a969a617df5bdc1fd5a0d0ebd74">Physics::Component::SoftBody::type</a></div><div class="ttdeci">SoftBodyType type</div><div class="ttdoc">Type of soft body (affects default settings)</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:249</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3b9fc082ff21b2cb0714ae7a27eae7f4" name="a3b9fc082ff21b2cb0714ae7a27eae7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b9fc082ff21b2cb0714ae7a27eae7f4">&#9670;&#160;</a></span>GetEdgeCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Physics::Component::SoftBody::GetEdgeCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get number of edge constraints. </p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ab3b417ee650125a1d0c7dd7d874c6ed6">edges</a>.size(); }</div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBody_html_ab3b417ee650125a1d0c7dd7d874c6ed6"><div class="ttname"><a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ab3b417ee650125a1d0c7dd7d874c6ed6">Physics::Component::SoftBody::edges</a></div><div class="ttdeci">std::vector&lt; std::pair&lt; uint32_t, uint32_t &gt; &gt; edges</div><div class="ttdoc">Edge constraints (pairs of vertex indices) for rope/chain without faces Auto-generated from Mesh....</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:266</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6834be3b4e852cecef42cc67baf05c4" name="ad6834be3b4e852cecef42cc67baf05c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6834be3b4e852cecef42cc67baf05c4">&#9670;&#160;</a></span>GetVertexCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Physics::Component::SoftBody::GetVertexCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get number of vertices (from invMasses size) </p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>.size(); }</div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBody_html_ac7347762cc0daa6c3866eb3970cbedec"><div class="ttname"><a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">Physics::Component::SoftBody::invMasses</a></div><div class="ttdeci">std::vector&lt; float &gt; invMasses</div><div class="ttdoc">Vertex inverse masses (0 = pinned/fixed). Size must match Mesh.vertices.size()</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:259</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e0b4d9479ac1e8bbaad7c6933b4e8a9" name="a8e0b4d9479ac1e8bbaad7c6933b4e8a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e0b4d9479ac1e8bbaad7c6933b4e8a9">&#9670;&#160;</a></span>IsValid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Physics::Component::SoftBody::IsValid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the soft body configuration is valid. </p>
<dl class="section note"><dt>Note</dt><dd>Only checks if vertex data has been initialized </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  355</span>{ <span class="keywordflow">return</span> !<a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>.empty(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afb3b02d0deb127fea9cdeb6b0b3cbf1b" name="afb3b02d0deb127fea9cdeb6b0b3cbf1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb3b02d0deb127fea9cdeb6b0b3cbf1b">&#9670;&#160;</a></span>IsVertexPinned()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Physics::Component::SoftBody::IsVertexPinned </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vertexIndex</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a vertex is pinned. </p>
<div class="fragment"><div class="line"><span class="lineno">  347</span>    {</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">return</span> vertexIndex &lt; <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>.size() &amp;&amp; <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>[vertexIndex] == 0.0f;</div>
<div class="line"><span class="lineno">  349</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aff297529f54a8d00ecb16bf185513ad5" name="aff297529f54a8d00ecb16bf185513ad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff297529f54a8d00ecb16bf185513ad5">&#9670;&#160;</a></span>PinVertex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Physics::Component::SoftBody::PinVertex </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vertexIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pin a vertex (fix it in space) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertexIndex</td><td>Index of vertex to pin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d5/d94/Creating_01a_01cloth_01for_01soft_01body_01simulation_1-example.html#a3">Creating a cloth for soft body simulation:</a>, and <a class="el" href="../../d4/d1e/Creating_01a_01rope_01for_01soft_01body_01simulation_1-example.html#a3">Creating a rope for soft body simulation:</a>.</dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  305</span>    {</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">if</span> (vertexIndex &lt; <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>.size())</div>
<div class="line"><span class="lineno">  307</span>        {</div>
<div class="line"><span class="lineno">  308</span>            <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>[vertexIndex] = 0.0f;</div>
<div class="line"><span class="lineno">  309</span>            <span class="keywordflow">if</span> (std::ranges::find(<a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">pinnedVertices</a>, vertexIndex) == <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">pinnedVertices</a>.end())</div>
<div class="line"><span class="lineno">  310</span>            {</div>
<div class="line"><span class="lineno">  311</span>                <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">pinnedVertices</a>.push_back(vertexIndex);</div>
<div class="line"><span class="lineno">  312</span>            }</div>
<div class="line"><span class="lineno">  313</span>        }</div>
<div class="line"><span class="lineno">  314</span>    }</div>
<div class="ttc" id="astructPhysics_1_1Component_1_1SoftBody_html_adcc6de6d865d2af26b2893085f9e0c43"><div class="ttname"><a href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">Physics::Component::SoftBody::pinnedVertices</a></div><div class="ttdeci">std::vector&lt; uint32_t &gt; pinnedVertices</div><div class="ttdoc">Indices of pinned (fixed) vertices.</div><div class="ttdef"><b>Definition</b> SoftBody.hpp:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f2d5ad0fc358606ede22ccbe5c80260" name="a4f2d5ad0fc358606ede22ccbe5c80260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f2d5ad0fc358606ede22ccbe5c80260">&#9670;&#160;</a></span>UnpinVertex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Physics::Component::SoftBody::UnpinVertex </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>vertexIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mass</em> = <code>1.0f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Unpin a vertex. </p>
<p>kMinMass is used to avoid instability from huge inverse masses.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vertexIndex</td><td>Index of vertex to unpin </td></tr>
    <tr><td class="paramname">mass</td><td>Mass to assign (default 1.0) </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">  325</span>    {</div>
<div class="line"><span class="lineno">  326</span>        <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">float</span> kMinMass = 1.0e-6f;</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">if</span> (vertexIndex &gt;= <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>.size())</div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">if</span> (mass &lt;= 0.0f)</div>
<div class="line"><span class="lineno">  332</span>        {</div>
<div class="line"><span class="lineno">  333</span>            <span class="comment">// mass &lt;= 0 means pin the vertex, delegate to PinVertex</span></div>
<div class="line"><span class="lineno">  334</span>            <a class="code hl_function" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#aff297529f54a8d00ecb16bf185513ad5">PinVertex</a>(vertexIndex);</div>
<div class="line"><span class="lineno">  335</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  336</span>        }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordtype">float</span> safeMass = mass &lt; kMinMass ? kMinMass : mass;</div>
<div class="line"><span class="lineno">  339</span>        <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#ac7347762cc0daa6c3866eb3970cbedec">invMasses</a>[vertexIndex] = 1.0f / safeMass;</div>
<div class="line"><span class="lineno">  340</span>        <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">pinnedVertices</a>.erase(std::ranges::remove(<a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">pinnedVertices</a>, vertexIndex).begin(), <a class="code hl_variable" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html#adcc6de6d865d2af26b2893085f9e0c43">pinnedVertices</a>.end());</div>
<div class="line"><span class="lineno">  341</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0bbef14ace6e13556ae9dc34d3ab5f43" name="a0bbef14ace6e13556ae9dc34d3ab5f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bbef14ace6e13556ae9dc34d3ab5f43">&#9670;&#160;</a></span>attachedEntityId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt;<a class="el" href="../../de/ded/structEngine_1_1EntityId.html">Engine::EntityId</a>&gt; Physics::Component::SoftBody::attachedEntityId = std::nullopt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Entity ID of the rigid body to attach to (optional) When set, kinematic vertices will follow this body's transform Use AttachToEntity() to set this properly. </p>

</div>
</div>
<a id="ab3b417ee650125a1d0c7dd7d874c6ed6" name="ab3b417ee650125a1d0c7dd7d874c6ed6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b417ee650125a1d0c7dd7d874c6ed6">&#9670;&#160;</a></span>edges</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;uint32_t, uint32_t&gt; &gt; Physics::Component::SoftBody::edges</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Edge constraints (pairs of vertex indices) for rope/chain without faces Auto-generated from Mesh.indices if empty. </p>

</div>
</div>
<a id="ac7347762cc0daa6c3866eb3970cbedec" name="ac7347762cc0daa6c3866eb3970cbedec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7347762cc0daa6c3866eb3970cbedec">&#9670;&#160;</a></span>invMasses</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;float&gt; Physics::Component::SoftBody::invMasses</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vertex inverse masses (0 = pinned/fixed). Size must match Mesh.vertices.size() </p>

</div>
</div>
<a id="aaa1dab6d14e0918d543cc4c0a7f6d48c" name="aaa1dab6d14e0918d543cc4c0a7f6d48c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa1dab6d14e0918d543cc4c0a7f6d48c">&#9670;&#160;</a></span>kinematicVertexIndices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint32_t&gt; Physics::Component::SoftBody::kinematicVertexIndices</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Manual list of vertex indices to make kinematic (in original mesh space) If non-empty, these are used instead of automatic selection. </p>

</div>
</div>
<a id="a61a1cc4f936ee5cf95b025246ac60a86" name="a61a1cc4f936ee5cf95b025246ac60a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61a1cc4f936ee5cf95b025246ac60a86">&#9670;&#160;</a></span>kinematicVertexPercent</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float Physics::Component::SoftBody::kinematicVertexPercent = 0.0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Percentage of vertices to make kinematic (attachment points) [0.0 - 1.0] These are automatically selected from the "bottom" of the mesh (lowest Y) Set to 0 to disable automatic kinematic vertex selection. </p>

</div>
</div>
<a id="adcc6de6d865d2af26b2893085f9e0c43" name="adcc6de6d865d2af26b2893085f9e0c43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcc6de6d865d2af26b2893085f9e0c43">&#9670;&#160;</a></span>pinnedVertices</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint32_t&gt; Physics::Component::SoftBody::pinnedVertices</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indices of pinned (fixed) vertices. </p>

</div>
</div>
<a id="accffbf98b0b23cc24cc8d51caee9973b" name="accffbf98b0b23cc24cc8d51caee9973b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accffbf98b0b23cc24cc8d51caee9973b">&#9670;&#160;</a></span>settings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dfd/structPhysics_1_1Component_1_1SoftBodySettings.html">SoftBodySettings</a> Physics::Component::SoftBody::settings</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simulation settings. </p>

</div>
</div>
<a id="a792b9a969a617df5bdc1fd5a0d0ebd74" name="a792b9a969a617df5bdc1fd5a0d0ebd74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792b9a969a617df5bdc1fd5a0d0ebd74">&#9670;&#160;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db3/namespacePhysics_1_1Component.html#afba57893158b985c5e52d01c512d6903">SoftBodyType</a> Physics::Component::SoftBody::type = <a class="el" href="../../d6/db3/namespacePhysics_1_1Component.html#afba57893158b985c5e52d01c512d6903a90589c47f06eb971d548591f23c285af">SoftBodyType::Custom</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type of soft body (affects default settings) </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>src/plugin/physics/src/component/<a class="el" href="../../d4/db4/SoftBody_8hpp_source.html">SoftBody.hpp (1de556d48b65f8aa90d3f384a7458d5c7999e756)</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/d54/namespacePhysics.html">Physics</a></li><li class="navelem"><a class="el" href="../../d6/db3/namespacePhysics_1_1Component.html">Component</a></li><li class="navelem"><a class="el" href="../../de/d89/structPhysics_1_1Component_1_1SoftBody.html">SoftBody</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
