<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EngineSquared: Object::Utils Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">EngineSquared<span id="projectnumber">&#160;0.2.0</span>
   </div>
   <div id="projectbrief">Open-source physics game engine written in C++. Developed as part of the 4th/5th year graduation project at Epitech (EIP).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d5d/namespaceObject_1_1Utils.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Object::Utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d38/structObject_1_1Utils_1_1CollapseResult.html">CollapseResult</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collapse clusters into centroids and compute new vertex arrays.  <a href="../../d2/d38/structObject_1_1Utils_1_1CollapseResult.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Result of mesh simplification operation.  <a href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html">SimplificationSettings</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Settings for mesh simplification.  <a href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a627cf35890ad9e765e97a19820ef4f34" id="r_a627cf35890ad9e765e97a19820ef4f34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a627cf35890ad9e765e97a19820ef4f34">GenerateBoxMesh</a> (float width, float height, float depth)</td></tr>
<tr class="memdesc:a627cf35890ad9e765e97a19820ef4f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a box mesh with specified dimensions.  <br /></td></tr>
<tr class="separator:a627cf35890ad9e765e97a19820ef4f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62f819c012e22956b3b0a33fcdf0c0b" id="r_ad62f819c012e22956b3b0a33fcdf0c0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#ad62f819c012e22956b3b0a33fcdf0c0b">GenerateCapsuleMesh</a> (float radius=0.5f, float height=1.0f, uint32_t segments=32u, uint32_t heightSegments=4u)</td></tr>
<tr class="memdesc:ad62f819c012e22956b3b0a33fcdf0c0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a capsule mesh with given radius and cylinder height.  <br /></td></tr>
<tr class="separator:ad62f819c012e22956b3b0a33fcdf0c0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add154ec512eaff35c1c7c09c87495cfd" id="r_add154ec512eaff35c1c7c09c87495cfd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#add154ec512eaff35c1c7c09c87495cfd">GenerateClothMesh</a> (uint32_t width, uint32_t height, float spacing)</td></tr>
<tr class="separator:add154ec512eaff35c1c7c09c87495cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d462904b53f5b6faa9d8888d64d0e02" id="r_a9d462904b53f5b6faa9d8888d64d0e02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a9d462904b53f5b6faa9d8888d64d0e02">GenerateCubeMesh</a> (float size=1.0f)</td></tr>
<tr class="memdesc:a9d462904b53f5b6faa9d8888d64d0e02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a cube mesh with specified size.  <br /></td></tr>
<tr class="separator:a9d462904b53f5b6faa9d8888d64d0e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99b4b6859b15ac723460a91a7ba2ae5" id="r_aa99b4b6859b15ac723460a91a7ba2ae5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#aa99b4b6859b15ac723460a91a7ba2ae5">GenerateCylinderMesh</a> (float radiusTop=0.5f, float radiusBottom=0.5f, float height=1.0f, uint32_t segments=32u, uint32_t heightSegments=1u)</td></tr>
<tr class="memdesc:aa99b4b6859b15ac723460a91a7ba2ae5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a cylinder mesh with specified dimensions.  <br /></td></tr>
<tr class="separator:aa99b4b6859b15ac723460a91a7ba2ae5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a6c01d6714d80b0566de0f28beace0" id="r_a40a6c01d6714d80b0566de0f28beace0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a40a6c01d6714d80b0566de0f28beace0">GenerateJellyCubeMesh</a> (uint32_t gridSize, float spacing)</td></tr>
<tr class="separator:a40a6c01d6714d80b0566de0f28beace0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8f504d3650275b79790570ded36023" id="r_afb8f504d3650275b79790570ded36023"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#afb8f504d3650275b79790570ded36023">SimplifyMesh</a> (const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh, const <a class="el" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html">SimplificationSettings</a> &amp;settings={})</td></tr>
<tr class="memdesc:afb8f504d3650275b79790570ded36023"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplify a mesh to reduce vertex count.  <br /></td></tr>
<tr class="separator:afb8f504d3650275b79790570ded36023"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0345adeb36788a8022a8c73d3e9047d" id="r_ad0345adeb36788a8022a8c73d3e9047d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#ad0345adeb36788a8022a8c73d3e9047d">SimplifyMeshToTarget</a> (const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh, uint32_t targetVertexCount, uint32_t maxIterations=10)</td></tr>
<tr class="memdesc:ad0345adeb36788a8022a8c73d3e9047d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iteratively simplify mesh until target vertex count is reached.  <br /></td></tr>
<tr class="separator:ad0345adeb36788a8022a8c73d3e9047d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1ed6f4b6406c961deb26bf6cad64ce6" id="r_ab1ed6f4b6406c961deb26bf6cad64ce6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#ab1ed6f4b6406c961deb26bf6cad64ce6">SimplifyMeshByVoxelization</a> (const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh, uint32_t targetVertexCount)</td></tr>
<tr class="memdesc:ab1ed6f4b6406c961deb26bf6cad64ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplify mesh using uniform grid voxelization.  <br /></td></tr>
<tr class="separator:ab1ed6f4b6406c961deb26bf6cad64ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9328e7fad1a0b3bc4025c371b22f64f" id="r_ab9328e7fad1a0b3bc4025c371b22f64f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#ab9328e7fad1a0b3bc4025c371b22f64f">DeduplicateVertices</a> (const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh, float epsilon=1e-6f)</td></tr>
<tr class="memdesc:ab9328e7fad1a0b3bc4025c371b22f64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deduplicate vertices in a mesh.  <br /></td></tr>
<tr class="separator:ab9328e7fad1a0b3bc4025c371b22f64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e2b771feeab1026942aa963ec22aedb" id="r_a6e2b771feeab1026942aa963ec22aedb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a6e2b771feeab1026942aa963ec22aedb">EstimateSimplifiedVertexCount</a> (const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh, const <a class="el" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html">SimplificationSettings</a> &amp;settings={})</td></tr>
<tr class="memdesc:a6e2b771feeab1026942aa963ec22aedb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estimate the simplified vertex count without performing simplification.  <br /></td></tr>
<tr class="separator:a6e2b771feeab1026942aa963ec22aedb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f2ca342d7f17e4409a625e7b3621556" id="r_a6f2ca342d7f17e4409a625e7b3621556"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a6f2ca342d7f17e4409a625e7b3621556">NeedsSimplification</a> (const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh, uint32_t maxVertices)</td></tr>
<tr class="memdesc:a6f2ca342d7f17e4409a625e7b3621556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a mesh needs simplification.  <br /></td></tr>
<tr class="separator:a6f2ca342d7f17e4409a625e7b3621556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7477219f06796f6c77928590f05c00ad" id="r_a7477219f06796f6c77928590f05c00ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a7477219f06796f6c77928590f05c00ad">RecalculateNormals</a> (<a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh)</td></tr>
<tr class="memdesc:a7477219f06796f6c77928590f05c00ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate normals for a mesh based on face geometry.  <br /></td></tr>
<tr class="separator:a7477219f06796f6c77928590f05c00ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f0e971a1f062fe50376f0948bfe668" id="r_a77f0e971a1f062fe50376f0948bfe668"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a77f0e971a1f062fe50376f0948bfe668">ValidateMeshArraySizes</a> (const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;mesh)</td></tr>
<tr class="memdesc:a77f0e971a1f062fe50376f0948bfe668"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate mesh data integrity.  <br /></td></tr>
<tr class="separator:a77f0e971a1f062fe50376f0948bfe668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc05b9ec8a3c976940f2c694e015683" id="r_a6fc05b9ec8a3c976940f2c694e015683"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a6fc05b9ec8a3c976940f2c694e015683">GeneratePlaneMesh</a> (float width=1.0f, float depth=1.0f, uint32_t subdivisionsX=1u, uint32_t subdivisionsZ=1u)</td></tr>
<tr class="memdesc:a6fc05b9ec8a3c976940f2c694e015683"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a plane mesh with specified width and depth.  <br /></td></tr>
<tr class="separator:a6fc05b9ec8a3c976940f2c694e015683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a629a61a586e44bca8391c30ef755d57f" id="r_a629a61a586e44bca8391c30ef755d57f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a629a61a586e44bca8391c30ef755d57f">GenerateRopeMesh</a> (uint32_t segmentCount, float segmentLength)</td></tr>
<tr class="separator:a629a61a586e44bca8391c30ef755d57f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1faed2c158525596bc162f9bb6190344" id="r_a1faed2c158525596bc162f9bb6190344"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a1faed2c158525596bc162f9bb6190344">GenerateSphereMesh</a> (float radius=0.5f, uint32_t segments=32u, uint32_t rings=16u)</td></tr>
<tr class="memdesc:a1faed2c158525596bc162f9bb6190344"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a sphere mesh with specified radius and subdivisions.  <br /></td></tr>
<tr class="separator:a1faed2c158525596bc162f9bb6190344"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce34a48e0ab52a4871717f84c20ee60" id="r_a2ce34a48e0ab52a4871717f84c20ee60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html#a2ce34a48e0ab52a4871717f84c20ee60">GenerateWheelMesh</a> (float radius=0.3f, float width=0.2f, uint32_t segments=24u)</td></tr>
<tr class="memdesc:a2ce34a48e0ab52a4871717f84c20ee60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a wheel mesh (cylinder oriented along the X axis)  <br /></td></tr>
<tr class="separator:a2ce34a48e0ab52a4871717f84c20ee60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab9328e7fad1a0b3bc4025c371b22f64f" name="ab9328e7fad1a0b3bc4025c371b22f64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9328e7fad1a0b3bc4025c371b22f64f">&#9670;&#160;</a></span>DeduplicateVertices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> Object::Utils::DeduplicateVertices </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>1e-6f</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deduplicate vertices in a mesh. </p>
<p>Merges vertices that are at the exact same position (within epsilon). This is useful for meshes loaded from OBJ files where each face has unique vertices even when they share the same position.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The input mesh </td></tr>
    <tr><td class="paramname">epsilon</td><td>Distance tolerance for considering vertices identical </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html" title="Result of mesh simplification operation.">SimplificationResult</a> with deduplicated mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  601</span>{</div>
<div class="line"><span class="lineno">  602</span>    <a class="code hl_struct" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> result;</div>
<div class="line"><span class="lineno">  603</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;vertices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>();</div>
<div class="line"><span class="lineno">  606</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;normals = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">GetNormals</a>();</div>
<div class="line"><span class="lineno">  607</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;texCoords = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2cdd7c9ee2ae2c958bcc04bd130831f1">GetTexCoords</a>();</div>
<div class="line"><span class="lineno">  608</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;indices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a99d24d2bc57a89e50a6bc7ac1cc95c67">GetIndices</a>();</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordflow">if</span> (vertices.empty())</div>
<div class="line"><span class="lineno">  611</span>    {</div>
<div class="line"><span class="lineno">  612</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a> = mesh;</div>
<div class="line"><span class="lineno">  613</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = 0;</div>
<div class="line"><span class="lineno">  614</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  615</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  616</span>    }</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>    SpatialHash spatialHash(epsilon * 2.0f);</div>
<div class="line"><span class="lineno">  619</span>    std::vector&lt;glm::vec3&gt; newVertices;</div>
<div class="line"><span class="lineno">  620</span>    std::vector&lt;glm::vec3&gt; newNormals;</div>
<div class="line"><span class="lineno">  621</span>    std::vector&lt;glm::vec2&gt; newTexCoords;</div>
<div class="line"><span class="lineno">  622</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>.resize(vertices.size());</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; vertices.size(); ++i)</div>
<div class="line"><span class="lineno">  625</span>    {</div>
<div class="line"><span class="lineno">  626</span>        <span class="keyword">const</span> glm::vec3 &amp;v = vertices[i];</div>
<div class="line"><span class="lineno">  627</span>        <span class="keyword">auto</span> nearby = spatialHash.GetNearby(v);</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  630</span>        <span class="keywordflow">for</span> (uint32_t j : nearby)</div>
<div class="line"><span class="lineno">  631</span>        {</div>
<div class="line"><span class="lineno">  632</span>            <span class="keywordflow">if</span> (j &lt; newVertices.size() &amp;&amp; glm::distance(v, newVertices[j]) &lt; epsilon)</div>
<div class="line"><span class="lineno">  633</span>            {</div>
<div class="line"><span class="lineno">  634</span>                result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[i] = j;</div>
<div class="line"><span class="lineno">  635</span>                found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  636</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  637</span>            }</div>
<div class="line"><span class="lineno">  638</span>        }</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">if</span> (!found)</div>
<div class="line"><span class="lineno">  641</span>        {</div>
<div class="line"><span class="lineno">  642</span>            <span class="keyword">auto</span> newIdx = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(newVertices.size());</div>
<div class="line"><span class="lineno">  643</span>            result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[i] = newIdx;</div>
<div class="line"><span class="lineno">  644</span>            newVertices.push_back(v);</div>
<div class="line"><span class="lineno">  645</span>            spatialHash.Insert(v, newIdx);</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>            <span class="keywordflow">if</span> (!normals.empty() &amp;&amp; i &lt; normals.size())</div>
<div class="line"><span class="lineno">  648</span>            {</div>
<div class="line"><span class="lineno">  649</span>                newNormals.push_back(normals[i]);</div>
<div class="line"><span class="lineno">  650</span>            }</div>
<div class="line"><span class="lineno">  651</span>            <span class="keywordflow">if</span> (!texCoords.empty() &amp;&amp; i &lt; texCoords.size())</div>
<div class="line"><span class="lineno">  652</span>            {</div>
<div class="line"><span class="lineno">  653</span>                newTexCoords.push_back(texCoords[i]);</div>
<div class="line"><span class="lineno">  654</span>            }</div>
<div class="line"><span class="lineno">  655</span>        }</div>
<div class="line"><span class="lineno">  656</span>    }</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    <span class="comment">// Rebuild indices</span></div>
<div class="line"><span class="lineno">  659</span>    std::vector&lt;uint32_t&gt; newIndices;</div>
<div class="line"><span class="lineno">  660</span>    newIndices.reserve(indices.size());</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i + 2 &lt; indices.size(); i += 3)</div>
<div class="line"><span class="lineno">  663</span>    {</div>
<div class="line"><span class="lineno">  664</span>        uint32_t i0 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i]];</div>
<div class="line"><span class="lineno">  665</span>        uint32_t i1 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i + 1]];</div>
<div class="line"><span class="lineno">  666</span>        uint32_t i2 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i + 2]];</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordflow">if</span> (!IsTriangleDegenerate(i0, i1, i2, newVertices))</div>
<div class="line"><span class="lineno">  669</span>        {</div>
<div class="line"><span class="lineno">  670</span>            newIndices.push_back(i0);</div>
<div class="line"><span class="lineno">  671</span>            newIndices.push_back(i1);</div>
<div class="line"><span class="lineno">  672</span>            newIndices.push_back(i2);</div>
<div class="line"><span class="lineno">  673</span>        }</div>
<div class="line"><span class="lineno">  674</span>    }</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a222ee6df319635f6bdf75ab9e8f52d30">SetVertices</a>(newVertices);</div>
<div class="line"><span class="lineno">  677</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9a811ab3d56d9df6adb94ee575a3dddd">SetIndices</a>(newIndices);</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">if</span> (!newNormals.empty())</div>
<div class="line"><span class="lineno">  680</span>    {</div>
<div class="line"><span class="lineno">  681</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a259a798e6bec209ca41dd4f0820d4504">SetNormals</a>(newNormals);</div>
<div class="line"><span class="lineno">  682</span>    }</div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> (!newTexCoords.empty())</div>
<div class="line"><span class="lineno">  684</span>    {</div>
<div class="line"><span class="lineno">  685</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a79b4506bd198d342f1ab720dce584604">SetTexCoords</a>(newTexCoords);</div>
<div class="line"><span class="lineno">  686</span>    }</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(newVertices.size());</div>
<div class="line"><span class="lineno">  689</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> = (result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> &lt; result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>);</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  692</span>}</div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a1af9bfe728ec435b1c2dc49e05818500"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">Object::Component::Mesh::GetVertices</a></div><div class="ttdeci">const std::vector&lt; glm::vec3 &gt; &amp; GetVertices() const</div><div class="ttdef"><b>Definition</b> Mesh.hpp:96</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a222ee6df319635f6bdf75ab9e8f52d30"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a222ee6df319635f6bdf75ab9e8f52d30">Object::Component::Mesh::SetVertices</a></div><div class="ttdeci">void SetVertices(const std::vector&lt; glm::vec3 &gt; &amp;newVertices)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:104</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a259a798e6bec209ca41dd4f0820d4504"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a259a798e6bec209ca41dd4f0820d4504">Object::Component::Mesh::SetNormals</a></div><div class="ttdeci">void SetNormals(const std::vector&lt; glm::vec3 &gt; &amp;newNormals)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:127</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a2cdd7c9ee2ae2c958bcc04bd130831f1"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2cdd7c9ee2ae2c958bcc04bd130831f1">Object::Component::Mesh::GetTexCoords</a></div><div class="ttdeci">const std::vector&lt; glm::vec2 &gt; &amp; GetTexCoords() const</div><div class="ttdef"><b>Definition</b> Mesh.hpp:98</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a79b4506bd198d342f1ab720dce584604"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a79b4506bd198d342f1ab720dce584604">Object::Component::Mesh::SetTexCoords</a></div><div class="ttdeci">void SetTexCoords(const std::vector&lt; glm::vec2 &gt; &amp;newTexCoords)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:150</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a9593503174a499395b0cdf35a97b0e50"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">Object::Component::Mesh::GetNormals</a></div><div class="ttdeci">const std::vector&lt; glm::vec3 &gt; &amp; GetNormals() const</div><div class="ttdef"><b>Definition</b> Mesh.hpp:97</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a99d24d2bc57a89e50a6bc7ac1cc95c67"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a99d24d2bc57a89e50a6bc7ac1cc95c67">Object::Component::Mesh::GetIndices</a></div><div class="ttdeci">const std::vector&lt; uint32_t &gt; &amp; GetIndices() const</div><div class="ttdef"><b>Definition</b> Mesh.hpp:99</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a9a811ab3d56d9df6adb94ee575a3dddd"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9a811ab3d56d9df6adb94ee575a3dddd">Object::Component::Mesh::SetIndices</a></div><div class="ttdeci">void SetIndices(const std::vector&lt; uint32_t &gt; &amp;newIndices)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:173</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationResult_html"><div class="ttname"><a href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">Object::Utils::SimplificationResult</a></div><div class="ttdoc">Result of mesh simplification operation.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:37</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationResult_html_a3da68ffd985c1f275db8b3f59a6c178d"><div class="ttname"><a href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">Object::Utils::SimplificationResult::originalVertexCount</a></div><div class="ttdeci">uint32_t originalVertexCount</div><div class="ttdoc">Original vertex count before simplification.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:42</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationResult_html_a9783dc0e6a0ad95ba01ef21cc1706677"><div class="ttname"><a href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">Object::Utils::SimplificationResult::wasSimplified</a></div><div class="ttdeci">bool wasSimplified</div><div class="ttdoc">Whether simplification was actually performed.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:53</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationResult_html_a9e056e3da0793f23b51eb0240eedbb00"><div class="ttname"><a href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">Object::Utils::SimplificationResult::mesh</a></div><div class="ttdeci">Component::Mesh mesh</div><div class="ttdoc">The simplified mesh.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:39</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationResult_html_ab321cf81da6595a4e1a14fa4f4159112"><div class="ttname"><a href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">Object::Utils::SimplificationResult::simplifiedVertexCount</a></div><div class="ttdeci">uint32_t simplifiedVertexCount</div><div class="ttdoc">Final vertex count after simplification.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:45</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationResult_html_abbe7f813fea9b4b4114ab64c8f2df667"><div class="ttname"><a href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">Object::Utils::SimplificationResult::vertexMap</a></div><div class="ttdeci">std::vector&lt; uint32_t &gt; vertexMap</div><div class="ttdoc">Mapping from original vertex indices to simplified indices simplifiedIndex = vertexMap[originalIndex]...</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:50</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e2b771feeab1026942aa963ec22aedb" name="a6e2b771feeab1026942aa963ec22aedb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e2b771feeab1026942aa963ec22aedb">&#9670;&#160;</a></span>EstimateSimplifiedVertexCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Object::Utils::EstimateSimplifiedVertexCount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html">SimplificationSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estimate the simplified vertex count without performing simplification. </p>
<p>Useful for deciding whether to use SoftBody or fall back to RigidBody based on expected complexity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The mesh to analyze </td></tr>
    <tr><td class="paramname">settings</td><td>Simplification parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Estimated vertex count after simplification </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  695</span>{</div>
<div class="line"><span class="lineno">  696</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;vertices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>();</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>    <span class="keywordflow">if</span> (vertices.size() &lt;= settings.<a class="code hl_variable" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#ae1265931d2b3ce278ef5b036a89346bf">targetVertexCount</a>)</div>
<div class="line"><span class="lineno">  699</span>    {</div>
<div class="line"><span class="lineno">  700</span>        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(vertices.size());</div>
<div class="line"><span class="lineno">  701</span>    }</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    glm::vec3 minBound, maxBound;</div>
<div class="line"><span class="lineno">  704</span>    ComputeBounds(vertices, minBound, maxBound);</div>
<div class="line"><span class="lineno">  705</span>    glm::vec3 extent = maxBound - minBound;</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="keywordtype">float</span> cellSize = settings.<a class="code hl_variable" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#a14a5d6711c3dc8dd0c593ae433534c2a">mergeDistance</a> * 2.0f;</div>
<div class="line"><span class="lineno">  708</span>    uint32_t cellsX = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::ceil(extent.x / cellSize)) + 1;</div>
<div class="line"><span class="lineno">  709</span>    uint32_t cellsY = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::ceil(extent.y / cellSize)) + 1;</div>
<div class="line"><span class="lineno">  710</span>    uint32_t cellsZ = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::ceil(extent.z / cellSize)) + 1;</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>    uint64_t maxCells64 = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(cellsX) * cellsY * cellsZ;</div>
<div class="line"><span class="lineno">  713</span>    <span class="keyword">auto</span> maxCells = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::min(maxCells64, <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(UINT32_MAX)));</div>
<div class="line"><span class="lineno">  714</span>    uint32_t estimated = std::min(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(vertices.size()), maxCells);</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>    <span class="comment">// Apply aggressiveness factor</span></div>
<div class="line"><span class="lineno">  717</span>    estimated = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(estimated * (1.0f - settings.<a class="code hl_variable" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#a185b0a7f29b08eeff070f7fc1b580a16">aggressiveness</a> * 0.5f));</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">return</span> std::max(estimated, 100u);</div>
<div class="line"><span class="lineno">  720</span>}</div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationSettings_html_a14a5d6711c3dc8dd0c593ae433534c2a"><div class="ttname"><a href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#a14a5d6711c3dc8dd0c593ae433534c2a">Object::Utils::SimplificationSettings::mergeDistance</a></div><div class="ttdeci">float mergeDistance</div><div class="ttdoc">Minimum distance between vertices to consider them for merging Vertices closer than this will be merg...</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:66</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationSettings_html_a185b0a7f29b08eeff070f7fc1b580a16"><div class="ttname"><a href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#a185b0a7f29b08eeff070f7fc1b580a16">Object::Utils::SimplificationSettings::aggressiveness</a></div><div class="ttdeci">float aggressiveness</div><div class="ttdoc">Aggressiveness of simplification [0, 1] 0 = minimal changes, 1 = aggressive reduction.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:76</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationSettings_html_ae1265931d2b3ce278ef5b036a89346bf"><div class="ttname"><a href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#ae1265931d2b3ce278ef5b036a89346bf">Object::Utils::SimplificationSettings::targetVertexCount</a></div><div class="ttdeci">uint32_t targetVertexCount</div><div class="ttdoc">Target maximum number of vertices If the mesh has fewer vertices than this, no simplification occurs.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:62</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a627cf35890ad9e765e97a19820ef4f34" name="a627cf35890ad9e765e97a19820ef4f34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a627cf35890ad9e765e97a19820ef4f34">&#9670;&#160;</a></span>GenerateBoxMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateBoxMesh </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a box mesh with specified dimensions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>Width of the box </td></tr>
    <tr><td class="paramname">height</td><td>Height of the box </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the box </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Component::Mesh</a> The generated box mesh with vertices, normals, UVs, and indices </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span>    <span class="keywordtype">float</span> halfWidth = width * 0.5f;</div>
<div class="line"><span class="lineno">   11</span>    <span class="keywordtype">float</span> halfHeight = height * 0.5f;</div>
<div class="line"><span class="lineno">   12</span>    <span class="keywordtype">float</span> halfDepth = depth * 0.5f;</div>
<div class="line"><span class="lineno">   13</span> </div>
<div class="line"><span class="lineno">   14</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a222ee6df319635f6bdf75ab9e8f52d30">SetVertices</a>({</div>
<div class="line"><span class="lineno">   15</span>        <span class="comment">// Front face (+Z)</span></div>
<div class="line"><span class="lineno">   16</span>        {-halfWidth, -halfHeight, halfDepth },</div>
<div class="line"><span class="lineno">   17</span>        {halfWidth,  -halfHeight, halfDepth },</div>
<div class="line"><span class="lineno">   18</span>        {halfWidth,  halfHeight,  halfDepth },</div>
<div class="line"><span class="lineno">   19</span>        {-halfWidth, halfHeight,  halfDepth },</div>
<div class="line"><span class="lineno">   20</span> </div>
<div class="line"><span class="lineno">   21</span>        <span class="comment">// Back face (-Z)</span></div>
<div class="line"><span class="lineno">   22</span>        {halfWidth,  -halfHeight, -halfDepth},</div>
<div class="line"><span class="lineno">   23</span>        {-halfWidth, -halfHeight, -halfDepth},</div>
<div class="line"><span class="lineno">   24</span>        {-halfWidth, halfHeight,  -halfDepth},</div>
<div class="line"><span class="lineno">   25</span>        {halfWidth,  halfHeight,  -halfDepth},</div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>        <span class="comment">// Top face (+Y)</span></div>
<div class="line"><span class="lineno">   28</span>        {-halfWidth, halfHeight,  halfDepth },</div>
<div class="line"><span class="lineno">   29</span>        {halfWidth,  halfHeight,  halfDepth },</div>
<div class="line"><span class="lineno">   30</span>        {halfWidth,  halfHeight,  -halfDepth},</div>
<div class="line"><span class="lineno">   31</span>        {-halfWidth, halfHeight,  -halfDepth},</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>        <span class="comment">// Bottom face (-Y)</span></div>
<div class="line"><span class="lineno">   34</span>        {-halfWidth, -halfHeight, -halfDepth},</div>
<div class="line"><span class="lineno">   35</span>        {halfWidth,  -halfHeight, -halfDepth},</div>
<div class="line"><span class="lineno">   36</span>        {halfWidth,  -halfHeight, halfDepth },</div>
<div class="line"><span class="lineno">   37</span>        {-halfWidth, -halfHeight, halfDepth },</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>        <span class="comment">// Right face (+X)</span></div>
<div class="line"><span class="lineno">   40</span>        {halfWidth,  -halfHeight, halfDepth },</div>
<div class="line"><span class="lineno">   41</span>        {halfWidth,  -halfHeight, -halfDepth},</div>
<div class="line"><span class="lineno">   42</span>        {halfWidth,  halfHeight,  -halfDepth},</div>
<div class="line"><span class="lineno">   43</span>        {halfWidth,  halfHeight,  halfDepth },</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>        <span class="comment">// Left face (-X)</span></div>
<div class="line"><span class="lineno">   46</span>        {-halfWidth, -halfHeight, -halfDepth},</div>
<div class="line"><span class="lineno">   47</span>        {-halfWidth, -halfHeight, halfDepth },</div>
<div class="line"><span class="lineno">   48</span>        {-halfWidth, halfHeight,  halfDepth },</div>
<div class="line"><span class="lineno">   49</span>        {-halfWidth, halfHeight,  -halfDepth}</div>
<div class="line"><span class="lineno">   50</span>    });</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a259a798e6bec209ca41dd4f0820d4504">SetNormals</a>({</div>
<div class="line"><span class="lineno">   53</span>        <span class="comment">// Front face</span></div>
<div class="line"><span class="lineno">   54</span>        {0,  0,  1 },</div>
<div class="line"><span class="lineno">   55</span>        {0,  0,  1 },</div>
<div class="line"><span class="lineno">   56</span>        {0,  0,  1 },</div>
<div class="line"><span class="lineno">   57</span>        {0,  0,  1 },</div>
<div class="line"><span class="lineno">   58</span>        <span class="comment">// Back face</span></div>
<div class="line"><span class="lineno">   59</span>        {0,  0,  -1},</div>
<div class="line"><span class="lineno">   60</span>        {0,  0,  -1},</div>
<div class="line"><span class="lineno">   61</span>        {0,  0,  -1},</div>
<div class="line"><span class="lineno">   62</span>        {0,  0,  -1},</div>
<div class="line"><span class="lineno">   63</span>        <span class="comment">// Top face</span></div>
<div class="line"><span class="lineno">   64</span>        {0,  1,  0 },</div>
<div class="line"><span class="lineno">   65</span>        {0,  1,  0 },</div>
<div class="line"><span class="lineno">   66</span>        {0,  1,  0 },</div>
<div class="line"><span class="lineno">   67</span>        {0,  1,  0 },</div>
<div class="line"><span class="lineno">   68</span>        <span class="comment">// Bottom face</span></div>
<div class="line"><span class="lineno">   69</span>        {0,  -1, 0 },</div>
<div class="line"><span class="lineno">   70</span>        {0,  -1, 0 },</div>
<div class="line"><span class="lineno">   71</span>        {0,  -1, 0 },</div>
<div class="line"><span class="lineno">   72</span>        {0,  -1, 0 },</div>
<div class="line"><span class="lineno">   73</span>        <span class="comment">// Right face</span></div>
<div class="line"><span class="lineno">   74</span>        {1,  0,  0 },</div>
<div class="line"><span class="lineno">   75</span>        {1,  0,  0 },</div>
<div class="line"><span class="lineno">   76</span>        {1,  0,  0 },</div>
<div class="line"><span class="lineno">   77</span>        {1,  0,  0 },</div>
<div class="line"><span class="lineno">   78</span>        <span class="comment">// Left face</span></div>
<div class="line"><span class="lineno">   79</span>        {-1, 0,  0 },</div>
<div class="line"><span class="lineno">   80</span>        {-1, 0,  0 },</div>
<div class="line"><span class="lineno">   81</span>        {-1, 0,  0 },</div>
<div class="line"><span class="lineno">   82</span>        {-1, 0,  0 }</div>
<div class="line"><span class="lineno">   83</span>    });</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a79b4506bd198d342f1ab720dce584604">SetTexCoords</a>({</div>
<div class="line"><span class="lineno">   86</span>        <span class="comment">// Front face</span></div>
<div class="line"><span class="lineno">   87</span>        {0, 0},</div>
<div class="line"><span class="lineno">   88</span>        {1, 0},</div>
<div class="line"><span class="lineno">   89</span>        {1, 1},</div>
<div class="line"><span class="lineno">   90</span>        {0, 1},</div>
<div class="line"><span class="lineno">   91</span>        <span class="comment">// Back face</span></div>
<div class="line"><span class="lineno">   92</span>        {0, 0},</div>
<div class="line"><span class="lineno">   93</span>        {1, 0},</div>
<div class="line"><span class="lineno">   94</span>        {1, 1},</div>
<div class="line"><span class="lineno">   95</span>        {0, 1},</div>
<div class="line"><span class="lineno">   96</span>        <span class="comment">// Top face</span></div>
<div class="line"><span class="lineno">   97</span>        {0, 0},</div>
<div class="line"><span class="lineno">   98</span>        {1, 0},</div>
<div class="line"><span class="lineno">   99</span>        {1, 1},</div>
<div class="line"><span class="lineno">  100</span>        {0, 1},</div>
<div class="line"><span class="lineno">  101</span>        <span class="comment">// Bottom face</span></div>
<div class="line"><span class="lineno">  102</span>        {0, 0},</div>
<div class="line"><span class="lineno">  103</span>        {1, 0},</div>
<div class="line"><span class="lineno">  104</span>        {1, 1},</div>
<div class="line"><span class="lineno">  105</span>        {0, 1},</div>
<div class="line"><span class="lineno">  106</span>        <span class="comment">// Right face</span></div>
<div class="line"><span class="lineno">  107</span>        {0, 0},</div>
<div class="line"><span class="lineno">  108</span>        {1, 0},</div>
<div class="line"><span class="lineno">  109</span>        {1, 1},</div>
<div class="line"><span class="lineno">  110</span>        {0, 1},</div>
<div class="line"><span class="lineno">  111</span>        <span class="comment">// Left face</span></div>
<div class="line"><span class="lineno">  112</span>        {0, 0},</div>
<div class="line"><span class="lineno">  113</span>        {1, 0},</div>
<div class="line"><span class="lineno">  114</span>        {1, 1},</div>
<div class="line"><span class="lineno">  115</span>        {0, 1}</div>
<div class="line"><span class="lineno">  116</span>    });</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9a811ab3d56d9df6adb94ee575a3dddd">SetIndices</a>({<span class="comment">// Front</span></div>
<div class="line"><span class="lineno">  119</span>                     0, 1, 2, 2, 3, 0,</div>
<div class="line"><span class="lineno">  120</span>                     <span class="comment">// Back</span></div>
<div class="line"><span class="lineno">  121</span>                     4, 5, 6, 6, 7, 4,</div>
<div class="line"><span class="lineno">  122</span>                     <span class="comment">// Top</span></div>
<div class="line"><span class="lineno">  123</span>                     8, 9, 10, 10, 11, 8,</div>
<div class="line"><span class="lineno">  124</span>                     <span class="comment">// Bottom</span></div>
<div class="line"><span class="lineno">  125</span>                     12, 13, 14, 14, 15, 12,</div>
<div class="line"><span class="lineno">  126</span>                     <span class="comment">// Right</span></div>
<div class="line"><span class="lineno">  127</span>                     16, 17, 18, 18, 19, 16,</div>
<div class="line"><span class="lineno">  128</span>                     <span class="comment">// Left</span></div>
<div class="line"><span class="lineno">  129</span>                     20, 21, 22, 22, 23, 20});</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">  132</span>}</div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Object::Component::Mesh</a></div><div class="ttdoc">Mesh structure.</div><div class="ttdef"><b>Definition</b> Mesh.hpp:40</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad62f819c012e22956b3b0a33fcdf0c0b" name="ad62f819c012e22956b3b0a33fcdf0c0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62f819c012e22956b3b0a33fcdf0c0b">&#9670;&#160;</a></span>GenerateCapsuleMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateCapsuleMesh </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>radius</em> = <code>0.5f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em> = <code>1.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>segments</em> = <code>32u</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>heightSegments</em> = <code>4u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a capsule mesh with given radius and cylinder height. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius</td><td>Radius of the capsule </td></tr>
    <tr><td class="paramname">height</td><td>Height of the cylindrical middle section </td></tr>
    <tr><td class="paramname">segments</td><td>Radial segments </td></tr>
    <tr><td class="paramname">heightSegments</td><td>Number of subdivisions along the cylinder height </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Component::Mesh</a> The generated capsule mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span>    <span class="keywordflow">if</span> (radius &lt;= 0.0f)</div>
<div class="line"><span class="lineno">   11</span>    {</div>
<div class="line"><span class="lineno">   12</span>        <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   13</span>    }</div>
<div class="line"><span class="lineno">   14</span>    height = std::max(0.0f, height);</div>
<div class="line"><span class="lineno">   15</span> </div>
<div class="line"><span class="lineno">   16</span>    segments = std::max(3u, segments);</div>
<div class="line"><span class="lineno">   17</span>    heightSegments = std::max(1u, heightSegments);</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>    uint32_t capRings = std::max(2u, heightSegments * 2u);</div>
<div class="line"><span class="lineno">   20</span>    <span class="keywordtype">float</span> halfHeight = height * 0.5f;</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordtype">float</span> totalHeight = height + 2.0f * radius;</div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">if</span> (totalHeight &lt;= std::numeric_limits&lt;float&gt;::epsilon())</div>
<div class="line"><span class="lineno">   24</span>        totalHeight = 1.0f;</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    uint32_t ringCount = capRings + (heightSegments + 1u) + capRings;</div>
<div class="line"><span class="lineno">   27</span>    uint32_t vertexEstimate = ringCount * (segments + 1u);</div>
<div class="line"><span class="lineno">   28</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(vertexEstimate);</div>
<div class="line"><span class="lineno">   29</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(vertexEstimate);</div>
<div class="line"><span class="lineno">   30</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(vertexEstimate);</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>    <span class="keyword">auto</span> addRing = [&amp;](<span class="keywordtype">float</span> y, <span class="keywordtype">float</span> r, <span class="keywordtype">float</span> centerY) {</div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">for</span> (uint32_t s = 0; s &lt;= segments; ++s)</div>
<div class="line"><span class="lineno">   34</span>        {</div>
<div class="line"><span class="lineno">   35</span>            <span class="keywordtype">float</span> theta = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(s) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments) * 2.0f * glm::pi&lt;float&gt;();</div>
<div class="line"><span class="lineno">   36</span>            <span class="keywordtype">float</span> cosT = std::cos(theta);</div>
<div class="line"><span class="lineno">   37</span>            <span class="keywordtype">float</span> sinT = std::sin(theta);</div>
<div class="line"><span class="lineno">   38</span>            glm::vec3 vertex(r * cosT, y, r * sinT);</div>
<div class="line"><span class="lineno">   39</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(vertex);</div>
<div class="line"><span class="lineno">   40</span>            glm::vec3 normal = glm::normalize(glm::vec3(r * cosT, y - centerY, r * sinT));</div>
<div class="line"><span class="lineno">   41</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(normal);</div>
<div class="line"><span class="lineno">   42</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(s) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments),</div>
<div class="line"><span class="lineno">   43</span>                                  (y + (radius + halfHeight)) / totalHeight);</div>
<div class="line"><span class="lineno">   44</span>        }</div>
<div class="line"><span class="lineno">   45</span>    };</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <span class="comment">// Top hemisphere (exclude equator)</span></div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">for</span> (uint32_t ring = 0; ring &lt; capRings; ++ring)</div>
<div class="line"><span class="lineno">   49</span>    {</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordtype">float</span> t = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(ring) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(capRings);</div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordtype">float</span> phi = t * (glm::pi&lt;float&gt;() * 0.5f);</div>
<div class="line"><span class="lineno">   52</span>        <span class="keywordtype">float</span> r = radius * std::sin(phi);</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordtype">float</span> y = halfHeight + radius * std::cos(phi);</div>
<div class="line"><span class="lineno">   54</span>        addRing(y, r, halfHeight);</div>
<div class="line"><span class="lineno">   55</span>    }</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    <span class="comment">// Cylinder rings (including top and bottom edges)</span></div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">for</span> (uint32_t h = 0; h &lt;= heightSegments; ++h)</div>
<div class="line"><span class="lineno">   59</span>    {</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordtype">float</span> t = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(h) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(heightSegments);</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordtype">float</span> y = halfHeight - t * height;</div>
<div class="line"><span class="lineno">   62</span>        addRing(y, radius, y); <span class="comment">// centerY == y results in purely horizontal normal</span></div>
<div class="line"><span class="lineno">   63</span>    }</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">// Bottom hemisphere (exclude equator)</span></div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">for</span> (uint32_t ring = 0; ring &lt; capRings; ++ring)</div>
<div class="line"><span class="lineno">   67</span>    {</div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordtype">float</span> t = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(ring) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(capRings);</div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordtype">float</span> phi = t * (glm::pi&lt;float&gt;() * 0.5f);</div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordtype">float</span> r = radius * std::sin(phi);</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordtype">float</span> y = -halfHeight - radius * std::cos(phi);</div>
<div class="line"><span class="lineno">   72</span>        addRing(y, r, -halfHeight);</div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">// Build indices between rings</span></div>
<div class="line"><span class="lineno">   76</span>    uint32_t ringsTotal = capRings + (heightSegments + 1u) + capRings;</div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">// Build triangle indices between consecutive rings. Stop at ringsTotal-1 so</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">// nextStart (ring+1) is always valid.</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">for</span> (uint32_t ring = 0; ring + 1u &lt; ringsTotal; ++ring)</div>
<div class="line"><span class="lineno">   80</span>    {</div>
<div class="line"><span class="lineno">   81</span>        uint32_t ringStart = ring * (segments + 1u);</div>
<div class="line"><span class="lineno">   82</span>        uint32_t nextStart = (ring + 1u) * (segments + 1u);</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">for</span> (uint32_t s = 0; s &lt; segments; ++s)</div>
<div class="line"><span class="lineno">   84</span>        {</div>
<div class="line"><span class="lineno">   85</span>            uint32_t i0 = ringStart + s;</div>
<div class="line"><span class="lineno">   86</span>            uint32_t i1 = ringStart + s + 1u;</div>
<div class="line"><span class="lineno">   87</span>            uint32_t i2 = nextStart + s;</div>
<div class="line"><span class="lineno">   88</span>            uint32_t i3 = nextStart + s + 1u;</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(i0);</div>
<div class="line"><span class="lineno">   91</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(i2);</div>
<div class="line"><span class="lineno">   92</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(i1);</div>
<div class="line"><span class="lineno">   93</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(i1);</div>
<div class="line"><span class="lineno">   94</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(i2);</div>
<div class="line"><span class="lineno">   95</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(i3);</div>
<div class="line"><span class="lineno">   96</span>        }</div>
<div class="line"><span class="lineno">   97</span>    }</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">  100</span>}</div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a2d77e1397a1151bafc4c2c58e0920e59"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">Object::Component::Mesh::EmplaceNormals</a></div><div class="ttdeci">void EmplaceNormals(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:143</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a5ab91d709f6e4e215f0f81a7515227fe"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">Object::Component::Mesh::EmplaceIndices</a></div><div class="ttdeci">void EmplaceIndices(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:189</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a7b1d196012bb879dfa885b38678d7780"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">Object::Component::Mesh::EmplaceVertices</a></div><div class="ttdeci">void EmplaceVertices(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:120</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_a9c7e9db04985c47359a49138ad276757"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">Object::Component::Mesh::ReserveTexCoords</a></div><div class="ttdeci">void ReserveTexCoords(size_t count)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:164</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_ac1d2458676e67236e977207609ae8c46"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">Object::Component::Mesh::EmplaceTexCoords</a></div><div class="ttdeci">void EmplaceTexCoords(Args &amp;&amp;...args)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:166</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_aec8f0b3526a7f4aaeade8f3bc19edc3b"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">Object::Component::Mesh::ReserveNormals</a></div><div class="ttdeci">void ReserveNormals(size_t count)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:141</div></div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_afb7fba0cede164929435bd3c93edb2aa"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">Object::Component::Mesh::ReserveVertices</a></div><div class="ttdeci">void ReserveVertices(size_t count)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:118</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add154ec512eaff35c1c7c09c87495cfd" name="add154ec512eaff35c1c7c09c87495cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add154ec512eaff35c1c7c09c87495cfd">&#9670;&#160;</a></span>GenerateClothMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateClothMesh </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spacing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span>    <span class="comment">// Need at least a 2x2 grid to form triangles</span></div>
<div class="line"><span class="lineno">   11</span>    <span class="keywordflow">if</span> (width &lt; 2u || height &lt; 2u)</div>
<div class="line"><span class="lineno">   12</span>    {</div>
<div class="line"><span class="lineno">   13</span>        <span class="comment">// Still create any vertices (0 or 1 sized grid) but do not generate faces</span></div>
<div class="line"><span class="lineno">   14</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(width) * height);</div>
<div class="line"><span class="lineno">   15</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(width) * height);</div>
<div class="line"><span class="lineno">   16</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(width) * height);</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span>        <span class="keywordflow">for</span> (uint32_t y = 0u; y &lt; height; ++y)</div>
<div class="line"><span class="lineno">   19</span>        {</div>
<div class="line"><span class="lineno">   20</span>            <span class="keywordflow">for</span> (uint32_t x = 0u; x &lt; width; ++x)</div>
<div class="line"><span class="lineno">   21</span>            {</div>
<div class="line"><span class="lineno">   22</span>                mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) * spacing, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(y) * spacing, 0.0f);</div>
<div class="line"><span class="lineno">   23</span>                mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 0.0f, 1.0f); <span class="comment">// Face +Z</span></div>
<div class="line"><span class="lineno">   24</span>                <span class="keywordtype">float</span> uDen = (width &gt; 1u) ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(width - 1u) : 1.0f;</div>
<div class="line"><span class="lineno">   25</span>                <span class="keywordtype">float</span> vDen = (height &gt; 1u) ? <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(height - 1u) : 1.0f;</div>
<div class="line"><span class="lineno">   26</span>                mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) / uDen, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(y) / vDen);</div>
<div class="line"><span class="lineno">   27</span>            }</div>
<div class="line"><span class="lineno">   28</span>        }</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   30</span>    }</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>    <span class="comment">// Generate vertices in XY plane</span></div>
<div class="line"><span class="lineno">   33</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(width) * height);</div>
<div class="line"><span class="lineno">   34</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(width) * height);</div>
<div class="line"><span class="lineno">   35</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(width) * height);</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordflow">for</span> (uint32_t y = 0u; y &lt; height; ++y)</div>
<div class="line"><span class="lineno">   38</span>    {</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordflow">for</span> (uint32_t x = 0u; x &lt; width; ++x)</div>
<div class="line"><span class="lineno">   40</span>        {</div>
<div class="line"><span class="lineno">   41</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) * spacing, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(y) * spacing, 0.0f);</div>
<div class="line"><span class="lineno">   42</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 0.0f, 1.0f); <span class="comment">// Face +Z</span></div>
<div class="line"><span class="lineno">   43</span>            <span class="keywordtype">float</span> u = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(width - 1u);</div>
<div class="line"><span class="lineno">   44</span>            <span class="keywordtype">float</span> v = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(y) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(height - 1u);</div>
<div class="line"><span class="lineno">   45</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(u, v);</div>
<div class="line"><span class="lineno">   46</span>        }</div>
<div class="line"><span class="lineno">   47</span>    }</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="comment">// Generate faces (two triangles per quad)</span></div>
<div class="line"><span class="lineno">   50</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aea04ab93139992f12ff917dff939a002">ReserveIndices</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(width - 1u) * (height - 1u) * 6u);</div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">for</span> (uint32_t y = 0u; y &lt; height - 1u; ++y)</div>
<div class="line"><span class="lineno">   52</span>    {</div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">for</span> (uint32_t x = 0u; x &lt; width - 1u; ++x)</div>
<div class="line"><span class="lineno">   54</span>        {</div>
<div class="line"><span class="lineno">   55</span>            uint32_t topLeft = y * width + x;</div>
<div class="line"><span class="lineno">   56</span>            uint32_t topRight = topLeft + 1u;</div>
<div class="line"><span class="lineno">   57</span>            uint32_t bottomLeft = (y + 1u) * width + x;</div>
<div class="line"><span class="lineno">   58</span>            uint32_t bottomRight = bottomLeft + 1u;</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>            <span class="comment">// CW winding to match renderer convention</span></div>
<div class="line"><span class="lineno">   61</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(topLeft);</div>
<div class="line"><span class="lineno">   62</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(topRight);</div>
<div class="line"><span class="lineno">   63</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bottomLeft);</div>
<div class="line"><span class="lineno">   64</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(topRight);</div>
<div class="line"><span class="lineno">   65</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bottomRight);</div>
<div class="line"><span class="lineno">   66</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bottomLeft);</div>
<div class="line"><span class="lineno">   67</span>        }</div>
<div class="line"><span class="lineno">   68</span>    }</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   71</span>}</div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_aea04ab93139992f12ff917dff939a002"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aea04ab93139992f12ff917dff939a002">Object::Component::Mesh::ReserveIndices</a></div><div class="ttdeci">void ReserveIndices(size_t count)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:187</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d462904b53f5b6faa9d8888d64d0e02" name="a9d462904b53f5b6faa9d8888d64d0e02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d462904b53f5b6faa9d8888d64d0e02">&#9670;&#160;</a></span>GenerateCubeMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateCubeMesh </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>size</em> = <code>1.0f</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a cube mesh with specified size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>Side length of the cube (default: 1.0) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Component::Mesh</a> The generated cube mesh with vertices, normals, UVs, and indices </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">    7</span>{ <span class="keywordflow">return</span> <a class="code hl_function" href="../../d0/d5d/namespaceObject_1_1Utils.html#a627cf35890ad9e765e97a19820ef4f34">GenerateBoxMesh</a>(size, size, size); }</div>
<div class="ttc" id="anamespaceObject_1_1Utils_html_a627cf35890ad9e765e97a19820ef4f34"><div class="ttname"><a href="../../d0/d5d/namespaceObject_1_1Utils.html#a627cf35890ad9e765e97a19820ef4f34">Object::Utils::GenerateBoxMesh</a></div><div class="ttdeci">Component::Mesh GenerateBoxMesh(float width, float height, float depth)</div><div class="ttdoc">Generate a box mesh with specified dimensions.</div><div class="ttdef"><b>Definition</b> BoxGenerator.cpp:6</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa99b4b6859b15ac723460a91a7ba2ae5" name="aa99b4b6859b15ac723460a91a7ba2ae5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa99b4b6859b15ac723460a91a7ba2ae5">&#9670;&#160;</a></span>GenerateCylinderMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateCylinderMesh </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>radiusTop</em> = <code>0.5f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>radiusBottom</em> = <code>0.5f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>height</em> = <code>1.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>segments</em> = <code>32u</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>heightSegments</em> = <code>1u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a cylinder mesh with specified dimensions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radiusTop</td><td>Radius at the top (default: 0.5) </td></tr>
    <tr><td class="paramname">radiusBottom</td><td>Radius at the bottom (default: 0.5) </td></tr>
    <tr><td class="paramname">height</td><td>Height of the cylinder (default: 1.0) </td></tr>
    <tr><td class="paramname">segments</td><td>Number of radial segments (default: 32) </td></tr>
    <tr><td class="paramname">heightSegments</td><td>Number of height segments (default: 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Component::Mesh</a> The generated cylinder mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">    8</span>{</div>
<div class="line"><span class="lineno">    9</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">   10</span> </div>
<div class="line"><span class="lineno">   11</span>    segments = std::max(3u, segments);</div>
<div class="line"><span class="lineno">   12</span>    heightSegments = std::max(1u, heightSegments);</div>
<div class="line"><span class="lineno">   13</span> </div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordtype">float</span> halfHeight = height * 0.5f;</div>
<div class="line"><span class="lineno">   15</span>    <span class="keywordtype">float</span> slopeAngle = std::atan2(radiusBottom - radiusTop, height);</div>
<div class="line"><span class="lineno">   16</span>    <span class="keywordtype">float</span> cosSlope = std::cos(slopeAngle);</div>
<div class="line"><span class="lineno">   17</span>    <span class="keywordtype">float</span> sinSlope = std::sin(slopeAngle);</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>    uint32_t sideVertexCount = (heightSegments + 1u) * (segments + 1u);</div>
<div class="line"><span class="lineno">   20</span>    uint32_t capVertexCount = 2u * (segments + 2u); <span class="comment">// Top and bottom caps (center + ring)</span></div>
<div class="line"><span class="lineno">   21</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(sideVertexCount + capVertexCount);</div>
<div class="line"><span class="lineno">   22</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(sideVertexCount + capVertexCount);</div>
<div class="line"><span class="lineno">   23</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(sideVertexCount + capVertexCount);</div>
<div class="line"><span class="lineno">   24</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aea04ab93139992f12ff917dff939a002">ReserveIndices</a>(heightSegments * segments * 6u + segments * 6u); <span class="comment">// Sides + caps</span></div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordflow">for</span> (uint32_t h = 0u; h &lt;= heightSegments; ++h)</div>
<div class="line"><span class="lineno">   27</span>    {</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordtype">float</span> y = -halfHeight + (<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(h) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(heightSegments)) * height;</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordtype">float</span> t = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(h) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(heightSegments);</div>
<div class="line"><span class="lineno">   30</span>        <span class="keywordtype">float</span> radius = std::lerp(radiusBottom, radiusTop, t);</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordflow">for</span> (uint32_t seg = 0; seg &lt;= segments; ++seg)</div>
<div class="line"><span class="lineno">   33</span>        {</div>
<div class="line"><span class="lineno">   34</span>            <span class="keywordtype">float</span> theta = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(seg) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments) * 2.0f * glm::pi&lt;float&gt;();</div>
<div class="line"><span class="lineno">   35</span>            <span class="keywordtype">float</span> cosTheta = std::cos(theta);</div>
<div class="line"><span class="lineno">   36</span>            <span class="keywordtype">float</span> sinTheta = std::sin(theta);</div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>            glm::vec3 vertex(radius * cosTheta, y, radius * sinTheta);</div>
<div class="line"><span class="lineno">   39</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(vertex);</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>            glm::vec3 normal = glm::normalize(glm::vec3(cosTheta * cosSlope, sinSlope, sinTheta * cosSlope));</div>
<div class="line"><span class="lineno">   42</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(normal);</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(seg) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments), t);</div>
<div class="line"><span class="lineno">   45</span>        }</div>
<div class="line"><span class="lineno">   46</span>    }</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">for</span> (uint32_t h = 0u; h &lt; heightSegments; ++h)</div>
<div class="line"><span class="lineno">   49</span>    {</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">for</span> (uint32_t seg = 0u; seg &lt; segments; ++seg)</div>
<div class="line"><span class="lineno">   51</span>        {</div>
<div class="line"><span class="lineno">   52</span>            uint32_t current = h * (segments + 1u) + seg;</div>
<div class="line"><span class="lineno">   53</span>            uint32_t next = current + segments + 1u;</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(current);</div>
<div class="line"><span class="lineno">   56</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(next);</div>
<div class="line"><span class="lineno">   57</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(current + 1u);</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(current + 1u);</div>
<div class="line"><span class="lineno">   60</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(next);</div>
<div class="line"><span class="lineno">   61</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(next + 1u);</div>
<div class="line"><span class="lineno">   62</span>        }</div>
<div class="line"><span class="lineno">   63</span>    }</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">// Generate top cap (if radius &gt; 0)</span></div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">if</span> (radiusTop &gt; 0.0f)</div>
<div class="line"><span class="lineno">   67</span>    {</div>
<div class="line"><span class="lineno">   68</span>        <span class="keyword">auto</span> centerTop = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">   69</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(0.0f, halfHeight, 0.0f);</div>
<div class="line"><span class="lineno">   70</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 1.0f, 0.0f);</div>
<div class="line"><span class="lineno">   71</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(0.5f, 0.5f);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">for</span> (uint32_t seg = 0; seg &lt;= segments; ++seg)</div>
<div class="line"><span class="lineno">   74</span>        {</div>
<div class="line"><span class="lineno">   75</span>            <span class="keywordtype">float</span> theta = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(seg) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments) * 2.0f * glm::pi&lt;float&gt;();</div>
<div class="line"><span class="lineno">   76</span>            <span class="keywordtype">float</span> cosTheta = std::cos(theta);</div>
<div class="line"><span class="lineno">   77</span>            <span class="keywordtype">float</span> sinTheta = std::sin(theta);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(radiusTop * cosTheta, halfHeight, radiusTop * sinTheta);</div>
<div class="line"><span class="lineno">   80</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 1.0f, 0.0f);</div>
<div class="line"><span class="lineno">   81</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(0.5f + 0.5f * cosTheta, 0.5f + 0.5f * sinTheta);</div>
<div class="line"><span class="lineno">   82</span>        }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">for</span> (uint32_t seg = 0u; seg &lt; segments; ++seg)</div>
<div class="line"><span class="lineno">   85</span>        {</div>
<div class="line"><span class="lineno">   86</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(centerTop);</div>
<div class="line"><span class="lineno">   87</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(centerTop + seg + 2u);</div>
<div class="line"><span class="lineno">   88</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(centerTop + seg + 1u);</div>
<div class="line"><span class="lineno">   89</span>        }</div>
<div class="line"><span class="lineno">   90</span>    }</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    <span class="comment">// Generate bottom cap (if radius &gt; 0)</span></div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> (radiusBottom &lt;= 0.0f)</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="keyword">auto</span> centerBottom = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">   97</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(0.0f, -halfHeight, 0.0f);</div>
<div class="line"><span class="lineno">   98</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, -1.0f, 0.0f);</div>
<div class="line"><span class="lineno">   99</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(0.5f, 0.5f);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordflow">for</span> (uint32_t seg = 0u; seg &lt;= segments; ++seg)</div>
<div class="line"><span class="lineno">  102</span>    {</div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordtype">float</span> theta = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(seg) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments) * 2.0f * glm::pi&lt;float&gt;();</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordtype">float</span> cosTheta = std::cos(theta);</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordtype">float</span> sinTheta = std::sin(theta);</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(radiusBottom * cosTheta, -halfHeight, radiusBottom * sinTheta);</div>
<div class="line"><span class="lineno">  108</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, -1.0f, 0.0f);</div>
<div class="line"><span class="lineno">  109</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(0.5f + 0.5f * cosTheta, 0.5f + 0.5f * sinTheta);</div>
<div class="line"><span class="lineno">  110</span>    }</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">for</span> (uint32_t seg = 0u; seg &lt; segments; ++seg)</div>
<div class="line"><span class="lineno">  113</span>    {</div>
<div class="line"><span class="lineno">  114</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(centerBottom);</div>
<div class="line"><span class="lineno">  115</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(centerBottom + seg + 1u);</div>
<div class="line"><span class="lineno">  116</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(centerBottom + seg + 2u);</div>
<div class="line"><span class="lineno">  117</span>    }</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">  120</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40a6c01d6714d80b0566de0f28beace0" name="a40a6c01d6714d80b0566de0f28beace0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40a6c01d6714d80b0566de0f28beace0">&#9670;&#160;</a></span>GenerateJellyCubeMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateJellyCubeMesh </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gridSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>spacing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="../../d4/dc3/Creating_01a_01jelly_01cube_1-example.html#a0">Creating a jelly cube:</a>.</dd>
</dl>
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span>    <span class="keywordflow">if</span> (gridSize &lt; 2u)</div>
<div class="line"><span class="lineno">   11</span>    {</div>
<div class="line"><span class="lineno">   12</span>        <span class="keywordflow">if</span> (gridSize == 1u)</div>
<div class="line"><span class="lineno">   13</span>        {</div>
<div class="line"><span class="lineno">   14</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(0.0f, 0.0f, 0.0f);</div>
<div class="line"><span class="lineno">   15</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 1.0f, 0.0f);</div>
<div class="line"><span class="lineno">   16</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(0.0f, 0.0f);</div>
<div class="line"><span class="lineno">   17</span>        }</div>
<div class="line"><span class="lineno">   18</span>        <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   19</span>    }</div>
<div class="line"><span class="lineno">   20</span> </div>
<div class="line"><span class="lineno">   21</span>    <span class="keywordtype">size_t</span> totalVertices = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(gridSize) * gridSize * gridSize;</div>
<div class="line"><span class="lineno">   22</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(totalVertices);</div>
<div class="line"><span class="lineno">   23</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(totalVertices);</div>
<div class="line"><span class="lineno">   24</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(totalVertices);</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordflow">for</span> (uint32_t z = 0u; z &lt; gridSize; ++z)</div>
<div class="line"><span class="lineno">   27</span>    {</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordflow">for</span> (uint32_t y = 0u; y &lt; gridSize; ++y)</div>
<div class="line"><span class="lineno">   29</span>        {</div>
<div class="line"><span class="lineno">   30</span>            <span class="keywordflow">for</span> (uint32_t x = 0u; x &lt; gridSize; ++x)</div>
<div class="line"><span class="lineno">   31</span>            {</div>
<div class="line"><span class="lineno">   32</span>                mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) * spacing, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(y) * spacing,</div>
<div class="line"><span class="lineno">   33</span>                                     <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(z) * spacing);</div>
<div class="line"><span class="lineno">   34</span>                mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 1.0f, 0.0f);</div>
<div class="line"><span class="lineno">   35</span>                <span class="keywordtype">float</span> u = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(gridSize - 1u);</div>
<div class="line"><span class="lineno">   36</span>                <span class="keywordtype">float</span> v = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(y) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(gridSize - 1u);</div>
<div class="line"><span class="lineno">   37</span>                mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(u, v);</div>
<div class="line"><span class="lineno">   38</span>            }</div>
<div class="line"><span class="lineno">   39</span>        }</div>
<div class="line"><span class="lineno">   40</span>    }</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="keyword">auto</span> getIndex = [gridSize](uint32_t x, uint32_t y, uint32_t z) {</div>
<div class="line"><span class="lineno">   43</span>        <span class="keywordflow">return</span> z * gridSize * gridSize + y * gridSize + x;</div>
<div class="line"><span class="lineno">   44</span>    };</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <span class="keyword">auto</span> addFace = [&amp;mesh](uint32_t tl, uint32_t tr, uint32_t bl, uint32_t br) {</div>
<div class="line"><span class="lineno">   47</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(tl);</div>
<div class="line"><span class="lineno">   48</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bl);</div>
<div class="line"><span class="lineno">   49</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(tr);</div>
<div class="line"><span class="lineno">   50</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(tr);</div>
<div class="line"><span class="lineno">   51</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bl);</div>
<div class="line"><span class="lineno">   52</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(br);</div>
<div class="line"><span class="lineno">   53</span>    };</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>    <span class="keyword">auto</span> getQuadIndices = [&amp;](uint32_t axis, uint32_t coord, uint32_t i, uint32_t j) -&gt; std::array&lt;uint32_t, 4&gt; {</div>
<div class="line"><span class="lineno">   56</span>        <span class="keywordflow">switch</span> (axis)</div>
<div class="line"><span class="lineno">   57</span>        {</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">case</span> 0u:</div>
<div class="line"><span class="lineno">   59</span>            <span class="keywordflow">return</span> {getIndex(coord, i, j), getIndex(coord, i + 1u, j), getIndex(coord, i, j + 1u),</div>
<div class="line"><span class="lineno">   60</span>                    getIndex(coord, i + 1u, j + 1u)};</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">case</span> 1u:</div>
<div class="line"><span class="lineno">   62</span>            <span class="keywordflow">return</span> {getIndex(i, coord, j), getIndex(i + 1u, coord, j), getIndex(i, coord, j + 1u),</div>
<div class="line"><span class="lineno">   63</span>                    getIndex(i + 1u, coord, j + 1u)};</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordflow">return</span> {getIndex(i, j, coord), getIndex(i + 1u, j, coord), getIndex(i, j + 1u, coord),</div>
<div class="line"><span class="lineno">   66</span>                    getIndex(i + 1u, j + 1u, coord)};</div>
<div class="line"><span class="lineno">   67</span>        }</div>
<div class="line"><span class="lineno">   68</span>    };</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="keyword">auto</span> generateFace = [&amp;](uint32_t axis, uint32_t coord, <span class="keywordtype">bool</span> reversed) {</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">for</span> (uint32_t i = 0u; i &lt; gridSize - 1u; ++i)</div>
<div class="line"><span class="lineno">   72</span>        {</div>
<div class="line"><span class="lineno">   73</span>            <span class="keywordflow">for</span> (uint32_t j = 0u; j &lt; gridSize - 1u; ++j)</div>
<div class="line"><span class="lineno">   74</span>            {</div>
<div class="line"><span class="lineno">   75</span>                <span class="keyword">auto</span> [tl, tr, bl, br] = getQuadIndices(axis, coord, i, j);</div>
<div class="line"><span class="lineno">   76</span>                <span class="keywordflow">if</span> (reversed)</div>
<div class="line"><span class="lineno">   77</span>                {</div>
<div class="line"><span class="lineno">   78</span>                    addFace(tl, bl, tr, br);</div>
<div class="line"><span class="lineno">   79</span>                }</div>
<div class="line"><span class="lineno">   80</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   81</span>                {</div>
<div class="line"><span class="lineno">   82</span>                    addFace(tl, tr, bl, br);</div>
<div class="line"><span class="lineno">   83</span>                }</div>
<div class="line"><span class="lineno">   84</span>            }</div>
<div class="line"><span class="lineno">   85</span>        }</div>
<div class="line"><span class="lineno">   86</span>    };</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    generateFace(0u, 0u, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   89</span>    generateFace(0u, gridSize - 1u, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   90</span>    generateFace(1u, 0u, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   91</span>    generateFace(1u, gridSize - 1u, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   92</span>    generateFace(2u, 0u, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   93</span>    generateFace(2u, gridSize - 1u, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   96</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fc05b9ec8a3c976940f2c694e015683" name="a6fc05b9ec8a3c976940f2c694e015683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fc05b9ec8a3c976940f2c694e015683">&#9670;&#160;</a></span>GeneratePlaneMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GeneratePlaneMesh </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>width</em> = <code>1.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>depth</em> = <code>1.0f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>subdivisionsX</em> = <code>1u</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>subdivisionsZ</em> = <code>1u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a plane mesh with specified width and depth. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">width</td><td>Width of the plane (X axis, default: 1.0) </td></tr>
    <tr><td class="paramname">depth</td><td>Depth of the plane (Z axis, default: 1.0) </td></tr>
    <tr><td class="paramname">subdivisionsX</td><td>Number of subdivisions along X (default: 1) </td></tr>
    <tr><td class="paramname">subdivisionsZ</td><td>Number of subdivisions along Z (default: 1) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Component::Mesh</a> The generated plane mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span>    subdivisionsX = std::max(1u, subdivisionsX);</div>
<div class="line"><span class="lineno">   11</span>    subdivisionsZ = std::max(1u, subdivisionsZ);</div>
<div class="line"><span class="lineno">   12</span> </div>
<div class="line"><span class="lineno">   13</span>    <span class="keywordtype">float</span> halfWidth = width * 0.5f;</div>
<div class="line"><span class="lineno">   14</span>    <span class="keywordtype">float</span> halfDepth = depth * 0.5f;</div>
<div class="line"><span class="lineno">   15</span> </div>
<div class="line"><span class="lineno">   16</span>    uint32_t vertexCount = (subdivisionsX + 1u) * (subdivisionsZ + 1u);</div>
<div class="line"><span class="lineno">   17</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(vertexCount);</div>
<div class="line"><span class="lineno">   18</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(vertexCount);</div>
<div class="line"><span class="lineno">   19</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(vertexCount);</div>
<div class="line"><span class="lineno">   20</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aea04ab93139992f12ff917dff939a002">ReserveIndices</a>(subdivisionsX * subdivisionsZ * 6u);</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordflow">for</span> (uint32_t z = 0u; z &lt;= subdivisionsZ; ++z)</div>
<div class="line"><span class="lineno">   23</span>    {</div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordtype">float</span> zPos = -halfDepth + (<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(z) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(subdivisionsZ)) * depth;</div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordtype">float</span> v = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(z) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(subdivisionsZ);</div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>        <span class="keywordflow">for</span> (uint32_t x = 0u; x &lt;= subdivisionsX; ++x)</div>
<div class="line"><span class="lineno">   28</span>        {</div>
<div class="line"><span class="lineno">   29</span>            <span class="keywordtype">float</span> xPos = -halfWidth + (<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(subdivisionsX)) * width;</div>
<div class="line"><span class="lineno">   30</span>            <span class="keywordtype">float</span> u = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(x) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(subdivisionsX);</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(xPos, 0.0f, zPos);</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 1.0f, 0.0f);</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(u, v);</div>
<div class="line"><span class="lineno">   37</span>        }</div>
<div class="line"><span class="lineno">   38</span>    }</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">for</span> (uint32_t z = 0u; z &lt; subdivisionsZ; ++z)</div>
<div class="line"><span class="lineno">   41</span>    {</div>
<div class="line"><span class="lineno">   42</span>        <span class="keywordflow">for</span> (uint32_t x = 0u; x &lt; subdivisionsX; ++x)</div>
<div class="line"><span class="lineno">   43</span>        {</div>
<div class="line"><span class="lineno">   44</span>            uint32_t topLeft = z * (subdivisionsX + 1u) + x;</div>
<div class="line"><span class="lineno">   45</span>            uint32_t topRight = topLeft + 1u;</div>
<div class="line"><span class="lineno">   46</span>            uint32_t bottomLeft = (z + 1u) * (subdivisionsX + 1u) + x;</div>
<div class="line"><span class="lineno">   47</span>            uint32_t bottomRight = bottomLeft + 1u;</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(topLeft);</div>
<div class="line"><span class="lineno">   50</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bottomLeft);</div>
<div class="line"><span class="lineno">   51</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(topRight);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(topRight);</div>
<div class="line"><span class="lineno">   54</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bottomLeft);</div>
<div class="line"><span class="lineno">   55</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(bottomRight);</div>
<div class="line"><span class="lineno">   56</span>        }</div>
<div class="line"><span class="lineno">   57</span>    }</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   60</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a629a61a586e44bca8391c30ef755d57f" name="a629a61a586e44bca8391c30ef755d57f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629a61a586e44bca8391c30ef755d57f">&#9670;&#160;</a></span>GenerateRopeMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateRopeMesh </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>segmentCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>segmentLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span>    <span class="keywordflow">if</span> (segmentCount == 0u)</div>
<div class="line"><span class="lineno">   11</span>    {</div>
<div class="line"><span class="lineno">   12</span>        <span class="comment">// Single point rope</span></div>
<div class="line"><span class="lineno">   13</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(0.0f, 0.0f, 0.0f);</div>
<div class="line"><span class="lineno">   14</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 0.0f, 1.0f);</div>
<div class="line"><span class="lineno">   15</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(0.0f, 0.0f);</div>
<div class="line"><span class="lineno">   16</span>        <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   17</span>    }</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>    uint32_t vertexCount = segmentCount + 1u;</div>
<div class="line"><span class="lineno">   20</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(vertexCount);</div>
<div class="line"><span class="lineno">   21</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(vertexCount);</div>
<div class="line"><span class="lineno">   22</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(vertexCount);</div>
<div class="line"><span class="lineno">   23</span> </div>
<div class="line"><span class="lineno">   24</span>    <span class="keywordflow">for</span> (uint32_t i = 0u; i &lt; vertexCount; ++i)</div>
<div class="line"><span class="lineno">   25</span>    {</div>
<div class="line"><span class="lineno">   26</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(0.0f, -<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(i) * segmentLength, 0.0f);</div>
<div class="line"><span class="lineno">   27</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(0.0f, 0.0f, 1.0f);</div>
<div class="line"><span class="lineno">   28</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(0.0f, <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(i) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segmentCount));</div>
<div class="line"><span class="lineno">   29</span>    }</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="comment">// No faces for rope (line rendering or soft body only)</span></div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   34</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1faed2c158525596bc162f9bb6190344" name="a1faed2c158525596bc162f9bb6190344"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1faed2c158525596bc162f9bb6190344">&#9670;&#160;</a></span>GenerateSphereMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateSphereMesh </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>radius</em> = <code>0.5f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>segments</em> = <code>32u</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rings</em> = <code>16u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a sphere mesh with specified radius and subdivisions. </p>
<p>Uses UV sphere generation (latitude/longitude grid)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius</td><td>Radius of the sphere (default: 0.5) </td></tr>
    <tr><td class="paramname">segments</td><td>Number of horizontal segments (default: 32) </td></tr>
    <tr><td class="paramname">rings</td><td>Number of vertical rings (default: 16) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Component::Mesh</a> The generated sphere mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">    7</span>{</div>
<div class="line"><span class="lineno">    8</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">    9</span> </div>
<div class="line"><span class="lineno">   10</span>    <span class="keywordflow">if</span> (radius &lt;= 0.0f)</div>
<div class="line"><span class="lineno">   11</span>    {</div>
<div class="line"><span class="lineno">   12</span>        <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   13</span>    }</div>
<div class="line"><span class="lineno">   14</span> </div>
<div class="line"><span class="lineno">   15</span>    segments = std::max(3u, segments);</div>
<div class="line"><span class="lineno">   16</span>    rings = std::max(2u, rings);</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span>    uint32_t vertexCount = (rings + 1u) * (segments + 1u);</div>
<div class="line"><span class="lineno">   19</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(vertexCount);</div>
<div class="line"><span class="lineno">   20</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(vertexCount);</div>
<div class="line"><span class="lineno">   21</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9c7e9db04985c47359a49138ad276757">ReserveTexCoords</a>(vertexCount);</div>
<div class="line"><span class="lineno">   22</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aea04ab93139992f12ff917dff939a002">ReserveIndices</a>(rings * segments * 6u);</div>
<div class="line"><span class="lineno">   23</span> </div>
<div class="line"><span class="lineno">   24</span>    <span class="keywordflow">for</span> (uint32_t ring = 0u; ring &lt;= rings; ++ring)</div>
<div class="line"><span class="lineno">   25</span>    {</div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordtype">float</span> phi = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(ring) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(rings) * glm::pi&lt;float&gt;();</div>
<div class="line"><span class="lineno">   27</span>        <span class="keywordtype">float</span> sinPhi = std::sin(phi);</div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordtype">float</span> cosPhi = std::cos(phi);</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>        <span class="keywordflow">for</span> (uint32_t seg = 0u; seg &lt;= segments; ++seg)</div>
<div class="line"><span class="lineno">   31</span>        {</div>
<div class="line"><span class="lineno">   32</span>            <span class="keywordtype">float</span> theta = <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(seg) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments) * 2.0f * glm::pi&lt;float&gt;();</div>
<div class="line"><span class="lineno">   33</span>            <span class="keywordtype">float</span> sinTheta = std::sin(theta);</div>
<div class="line"><span class="lineno">   34</span>            <span class="keywordtype">float</span> cosTheta = std::cos(theta);</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>            glm::vec3 vertex(radius * sinPhi * cosTheta, radius * cosPhi, radius * sinPhi * sinTheta);</div>
<div class="line"><span class="lineno">   37</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(vertex);</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>            glm::vec3 normal = glm::normalize(vertex);</div>
<div class="line"><span class="lineno">   40</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(normal);</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ac1d2458676e67236e977207609ae8c46">EmplaceTexCoords</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(seg) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(segments),</div>
<div class="line"><span class="lineno">   43</span>                                  <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(ring) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(rings));</div>
<div class="line"><span class="lineno">   44</span>        }</div>
<div class="line"><span class="lineno">   45</span>    }</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">for</span> (uint32_t ring = 0u; ring &lt; rings; ++ring)</div>
<div class="line"><span class="lineno">   48</span>    {</div>
<div class="line"><span class="lineno">   49</span>        <span class="keywordflow">for</span> (uint32_t seg = 0u; seg &lt; segments; ++seg)</div>
<div class="line"><span class="lineno">   50</span>        {</div>
<div class="line"><span class="lineno">   51</span>            uint32_t current = ring * (segments + 1u) + seg;</div>
<div class="line"><span class="lineno">   52</span>            uint32_t next = current + segments + 1u;</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(current);</div>
<div class="line"><span class="lineno">   55</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(next);</div>
<div class="line"><span class="lineno">   56</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(current + 1u);</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(current + 1u);</div>
<div class="line"><span class="lineno">   59</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(next);</div>
<div class="line"><span class="lineno">   60</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a5ab91d709f6e4e215f0f81a7515227fe">EmplaceIndices</a>(next + 1u);</div>
<div class="line"><span class="lineno">   61</span>        }</div>
<div class="line"><span class="lineno">   62</span>    }</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   65</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ce34a48e0ab52a4871717f84c20ee60" name="a2ce34a48e0ab52a4871717f84c20ee60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ce34a48e0ab52a4871717f84c20ee60">&#9670;&#160;</a></span>GenerateWheelMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> Object::Utils::GenerateWheelMesh </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>radius</em> = <code>0.3f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>width</em> = <code>0.2f</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>segments</em> = <code>24u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a wheel mesh (cylinder oriented along the X axis) </p>
<p>Creates a cylinder mesh rotated 90 degrees so the wheel's axis of rotation is along the X axis (left-right), suitable for vehicle wheels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">radius</td><td>Radius of the wheel (default: 0.3) </td></tr>
    <tr><td class="paramname">width</td><td>Width of the wheel (default: 0.2) </td></tr>
    <tr><td class="paramname">segments</td><td>Number of radial segments (default: 24) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html" title="Mesh structure.">Component::Mesh</a> The generated wheel mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">    8</span>{</div>
<div class="line"><span class="lineno">    9</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> cylinderMesh = <a class="code hl_function" href="../../d0/d5d/namespaceObject_1_1Utils.html#aa99b4b6859b15ac723460a91a7ba2ae5">GenerateCylinderMesh</a>(radius, radius, width, segments, 1u);</div>
<div class="line"><span class="lineno">   10</span> </div>
<div class="line"><span class="lineno">   11</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> mesh;</div>
<div class="line"><span class="lineno">   12</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#afb7fba0cede164929435bd3c93edb2aa">ReserveVertices</a>(cylinderMesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">   13</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#aec8f0b3526a7f4aaeade8f3bc19edc3b">ReserveNormals</a>(cylinderMesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">GetNormals</a>().size());</div>
<div class="line"><span class="lineno">   14</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a79b4506bd198d342f1ab720dce584604">SetTexCoords</a>(cylinderMesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2cdd7c9ee2ae2c958bcc04bd130831f1">GetTexCoords</a>());</div>
<div class="line"><span class="lineno">   15</span>    mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9a811ab3d56d9df6adb94ee575a3dddd">SetIndices</a>(cylinderMesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a99d24d2bc57a89e50a6bc7ac1cc95c67">GetIndices</a>());</div>
<div class="line"><span class="lineno">   16</span> </div>
<div class="line"><span class="lineno">   17</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;vertex : cylinderMesh.GetVertices())</div>
<div class="line"><span class="lineno">   18</span>    {</div>
<div class="line"><span class="lineno">   19</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a7b1d196012bb879dfa885b38678d7780">EmplaceVertices</a>(vertex.y, -vertex.x, vertex.z);</div>
<div class="line"><span class="lineno">   20</span>    }</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;normal : cylinderMesh.GetNormals())</div>
<div class="line"><span class="lineno">   23</span>    {</div>
<div class="line"><span class="lineno">   24</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2d77e1397a1151bafc4c2c58e0920e59">EmplaceNormals</a>(normal.y, -normal.x, normal.z);</div>
<div class="line"><span class="lineno">   25</span>    }</div>
<div class="line"><span class="lineno">   26</span> </div>
<div class="line"><span class="lineno">   27</span>    <span class="keywordflow">return</span> mesh;</div>
<div class="line"><span class="lineno">   28</span>}</div>
<div class="ttc" id="anamespaceObject_1_1Utils_html_aa99b4b6859b15ac723460a91a7ba2ae5"><div class="ttname"><a href="../../d0/d5d/namespaceObject_1_1Utils.html#aa99b4b6859b15ac723460a91a7ba2ae5">Object::Utils::GenerateCylinderMesh</a></div><div class="ttdeci">Component::Mesh GenerateCylinderMesh(float radiusTop, float radiusBottom, float height, uint32_t segments, uint32_t heightSegments)</div><div class="ttdoc">Generate a cylinder mesh with specified dimensions.</div><div class="ttdef"><b>Definition</b> CylinderGenerator.cpp:6</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f2ca342d7f17e4409a625e7b3621556" name="a6f2ca342d7f17e4409a625e7b3621556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f2ca342d7f17e4409a625e7b3621556">&#9670;&#160;</a></span>NeedsSimplification()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Object::Utils::NeedsSimplification </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxVertices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a mesh needs simplification. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The mesh to check </td></tr>
    <tr><td class="paramname">maxVertices</td><td>Maximum allowed vertex count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if mesh has more vertices than maxVertices </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  180</span>{</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">return</span> mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size() &gt; maxVertices;</div>
<div class="line"><span class="lineno">  182</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7477219f06796f6c77928590f05c00ad" name="a7477219f06796f6c77928590f05c00ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7477219f06796f6c77928590f05c00ad">&#9670;&#160;</a></span>RecalculateNormals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Object::Utils::RecalculateNormals </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate normals for a mesh based on face geometry. </p>
<p>This function computes smooth normals by averaging the face normals of all triangles that share each vertex. This is essential for correct lighting on deformable meshes like soft bodies.</p>
<p>Algorithm:</p><ol type="1">
<li>Initialize all normals to zero</li>
<li>For each triangle face, compute face normal using cross product</li>
<li>Add face normal to each vertex's accumulated normal</li>
<li>Normalize all vertex normals</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The mesh to recalculate normals for. Must have:<ul>
<li>Non-empty vertices array</li>
<li>Non-empty indices array (multiple of 3 for triangles)</li>
<li>Normals array same size as vertices (will be overwritten)</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The mesh's dirty flag is NOT modified by this function. The caller is responsible for managing the dirty state.</dd>
<dd>
For "flat" meshes where each face has unique vertices (like OBJ imports), this will still work correctly as each vertex only belongs to one face. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   42</span>{</div>
<div class="line"><span class="lineno">   43</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;vertices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>();</div>
<div class="line"><span class="lineno">   44</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;indices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a99d24d2bc57a89e50a6bc7ac1cc95c67">GetIndices</a>();</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (vertices.empty() || indices.empty())</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> (indices.size() % 3u != 0)</div>
<div class="line"><span class="lineno">   50</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    <span class="comment">// Ensure normals array is properly sized</span></div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">if</span> (mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">GetNormals</a>().size() != vertices.size())</div>
<div class="line"><span class="lineno">   54</span>    {</div>
<div class="line"><span class="lineno">   55</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a259a798e6bec209ca41dd4f0820d4504">SetNormals</a>(std::vector&lt;glm::vec3&gt;(vertices.size(), glm::vec3(0.0f)));</div>
<div class="line"><span class="lineno">   56</span>    }</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   58</span>    {</div>
<div class="line"><span class="lineno">   59</span>        <span class="comment">// Initialize all normals to zero</span></div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0u; i &lt; vertices.size(); ++i)</div>
<div class="line"><span class="lineno">   61</span>        {</div>
<div class="line"><span class="lineno">   62</span>            mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ace80092979ea02f779ad373c614c2d0f">SetNormalAt</a>(i, glm::vec3(0.0f));</div>
<div class="line"><span class="lineno">   63</span>        }</div>
<div class="line"><span class="lineno">   64</span>    }</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;normals = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">GetNormals</a>();</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">// Accumulate face normals for each vertex</span></div>
<div class="line"><span class="lineno">   69</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> triangleCount = indices.size() / 3u;</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0u; i &lt; triangleCount; ++i)</div>
<div class="line"><span class="lineno">   71</span>    {</div>
<div class="line"><span class="lineno">   72</span>        <span class="keyword">const</span> uint32_t idx0 = indices[i * 3 + 0];</div>
<div class="line"><span class="lineno">   73</span>        <span class="keyword">const</span> uint32_t idx1 = indices[i * 3 + 1];</div>
<div class="line"><span class="lineno">   74</span>        <span class="keyword">const</span> uint32_t idx2 = indices[i * 3 + 2];</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>        <span class="comment">// Bounds check</span></div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">if</span> (idx0 &gt;= vertices.size() || idx1 &gt;= vertices.size() || idx2 &gt;= vertices.size())</div>
<div class="line"><span class="lineno">   78</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>        <span class="keyword">const</span> glm::vec3 &amp;v0 = vertices[idx0];</div>
<div class="line"><span class="lineno">   81</span>        <span class="keyword">const</span> glm::vec3 &amp;v1 = vertices[idx1];</div>
<div class="line"><span class="lineno">   82</span>        <span class="keyword">const</span> glm::vec3 &amp;v2 = vertices[idx2];</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">// Compute face normal using cross product</span></div>
<div class="line"><span class="lineno">   85</span>        <span class="comment">// Edge vectors from v0</span></div>
<div class="line"><span class="lineno">   86</span>        <span class="keyword">const</span> glm::vec3 edge1 = v1 - v0;</div>
<div class="line"><span class="lineno">   87</span>        <span class="keyword">const</span> glm::vec3 edge2 = v2 - v0;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        <span class="comment">// Cross product gives normal direction (not normalized yet)</span></div>
<div class="line"><span class="lineno">   90</span>        <span class="comment">// The magnitude is proportional to triangle area, which provides</span></div>
<div class="line"><span class="lineno">   91</span>        <span class="comment">// area-weighted averaging when accumulated</span></div>
<div class="line"><span class="lineno">   92</span>        <span class="keyword">const</span> glm::vec3 faceNormal = glm::cross(edge1, edge2);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">// Accumulate to each vertex of this face</span></div>
<div class="line"><span class="lineno">   95</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ace80092979ea02f779ad373c614c2d0f">SetNormalAt</a>(idx0, normals[idx0] + faceNormal);</div>
<div class="line"><span class="lineno">   96</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ace80092979ea02f779ad373c614c2d0f">SetNormalAt</a>(idx1, normals[idx1] + faceNormal);</div>
<div class="line"><span class="lineno">   97</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ace80092979ea02f779ad373c614c2d0f">SetNormalAt</a>(idx2, normals[idx2] + faceNormal);</div>
<div class="line"><span class="lineno">   98</span>    }</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="comment">// Normalize all vertex normals</span></div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">constexpr</span> <span class="keywordtype">float</span> epsilon = 1e-8f;</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0u; i &lt; normals.size(); ++i)</div>
<div class="line"><span class="lineno">  103</span>    {</div>
<div class="line"><span class="lineno">  104</span>        glm::vec3 normal = normals[i];</div>
<div class="line"><span class="lineno">  105</span>        NormalizeVector(normal, epsilon);</div>
<div class="line"><span class="lineno">  106</span>        mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ace80092979ea02f779ad373c614c2d0f">SetNormalAt</a>(i, normal);</div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span>}</div>
<div class="ttc" id="astructObject_1_1Component_1_1Mesh_html_ace80092979ea02f779ad373c614c2d0f"><div class="ttname"><a href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#ace80092979ea02f779ad373c614c2d0f">Object::Component::Mesh::SetNormalAt</a></div><div class="ttdeci">void SetNormalAt(size_t index, const glm::vec3 &amp;normal)</div><div class="ttdef"><b>Definition</b> Mesh.hpp:133</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afb8f504d3650275b79790570ded36023" name="afb8f504d3650275b79790570ded36023"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb8f504d3650275b79790570ded36023">&#9670;&#160;</a></span>SimplifyMesh()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> Object::Utils::SimplifyMesh </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html">SimplificationSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simplify a mesh to reduce vertex count. </p>
<p>This function reduces the number of vertices in a mesh while attempting to preserve its overall shape. It uses vertex clustering and edge collapse techniques.</p>
<p>Algorithm overview:</p><ol type="1">
<li>Build spatial hash grid for vertex proximity queries</li>
<li>Identify vertex clusters within merge distance</li>
<li>Collapse clusters to their centroid</li>
<li>Rebuild triangle connectivity</li>
<li>Remove degenerate triangles</li>
<li>Optionally recalculate normals</li>
</ol>
<p>Implementation notes: The implementation uses a spatial hash for efficient proximity queries and a union-find (disjoint set) structure to cluster nearby vertices. Clusters are collapsed to centroids; triangles are rebuilt and degenerate faces removed. Normals may be recomputed if requested. This approach is fast and robust for large meshes but is lossy.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The input mesh to simplify </td></tr>
    <tr><td class="paramname">settings</td><td>Simplification parameters </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html" title="Result of mesh simplification operation.">SimplificationResult</a> containing the simplified mesh and metadata</dd></dl>
<dl class="section note"><dt>Note</dt><dd>If the mesh has fewer vertices than targetVertexCount, the original mesh is returned unchanged with wasSimplified = false</dd>
<dd>
This is a lossy operation. Fine details may be lost. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  291</span>{</div>
<div class="line"><span class="lineno">  292</span>    <a class="code hl_struct" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> result;</div>
<div class="line"><span class="lineno">  293</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="comment">// If already under target, return unchanged</span></div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">if</span> (mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size() &lt;= settings.<a class="code hl_variable" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#ae1265931d2b3ce278ef5b036a89346bf">targetVertexCount</a>)</div>
<div class="line"><span class="lineno">  297</span>    {</div>
<div class="line"><span class="lineno">  298</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a> = mesh;</div>
<div class="line"><span class="lineno">  299</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>;</div>
<div class="line"><span class="lineno">  300</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  301</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>.resize(result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>);</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>; ++i)</div>
<div class="line"><span class="lineno">  303</span>        {</div>
<div class="line"><span class="lineno">  304</span>            result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[i] = i;</div>
<div class="line"><span class="lineno">  305</span>        }</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  307</span>    }</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;vertices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>();</div>
<div class="line"><span class="lineno">  310</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;normals = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">GetNormals</a>();</div>
<div class="line"><span class="lineno">  311</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;texCoords = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2cdd7c9ee2ae2c958bcc04bd130831f1">GetTexCoords</a>();</div>
<div class="line"><span class="lineno">  312</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;indices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a99d24d2bc57a89e50a6bc7ac1cc95c67">GetIndices</a>();</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <span class="keywordtype">float</span> mergeDistance = ComputeMergeDistance(vertices, settings);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>    <span class="comment">// Build spatial hash</span></div>
<div class="line"><span class="lineno">  317</span>    SpatialHash spatialHash(mergeDistance * 2.0f);</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; vertices.size(); ++i)</div>
<div class="line"><span class="lineno">  319</span>        spatialHash.Insert(vertices[i], i);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    <span class="comment">// Cluster vertices</span></div>
<div class="line"><span class="lineno">  322</span>    UnionFind uf = ClusterVertices(vertices, mergeDistance, spatialHash);</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="comment">// Collapse clusters</span></div>
<div class="line"><span class="lineno">  325</span>    <span class="keyword">auto</span> collapseRes = CollapseClusters(vertices, normals, texCoords, uf);</div>
<div class="line"><span class="lineno">  326</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a> = std::move(collapseRes.vertexMap);</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>    <span class="comment">// Rebuild indices, removing degenerate triangles</span></div>
<div class="line"><span class="lineno">  329</span>    std::vector&lt;uint32_t&gt; newIndices;</div>
<div class="line"><span class="lineno">  330</span>    newIndices.reserve(indices.size());</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i + 2 &lt; indices.size(); i += 3)</div>
<div class="line"><span class="lineno">  333</span>    {</div>
<div class="line"><span class="lineno">  334</span>        uint32_t i0 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i]];</div>
<div class="line"><span class="lineno">  335</span>        uint32_t i1 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i + 1]];</div>
<div class="line"><span class="lineno">  336</span>        uint32_t i2 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i + 2]];</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">if</span> (!IsTriangleDegenerate(i0, i1, i2, collapseRes.vertices))</div>
<div class="line"><span class="lineno">  339</span>        {</div>
<div class="line"><span class="lineno">  340</span>            newIndices.push_back(i0);</div>
<div class="line"><span class="lineno">  341</span>            newIndices.push_back(i1);</div>
<div class="line"><span class="lineno">  342</span>            newIndices.push_back(i2);</div>
<div class="line"><span class="lineno">  343</span>        }</div>
<div class="line"><span class="lineno">  344</span>    }</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    <span class="comment">// Build result mesh</span></div>
<div class="line"><span class="lineno">  347</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a222ee6df319635f6bdf75ab9e8f52d30">SetVertices</a>(collapseRes.vertices);</div>
<div class="line"><span class="lineno">  348</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9a811ab3d56d9df6adb94ee575a3dddd">SetIndices</a>(newIndices);</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">if</span> (!texCoords.empty())</div>
<div class="line"><span class="lineno">  351</span>    {</div>
<div class="line"><span class="lineno">  352</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a79b4506bd198d342f1ab720dce584604">SetTexCoords</a>(collapseRes.texCoords);</div>
<div class="line"><span class="lineno">  353</span>    }</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    <span class="comment">// Recalculate normals if requested</span></div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (settings.<a class="code hl_variable" href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#a857b8b5c7aa2fe5f3f9f823d4739fc18">recalculateNormals</a> &amp;&amp; !collapseRes.vertices.empty() &amp;&amp; !newIndices.empty())</div>
<div class="line"><span class="lineno">  357</span>    {</div>
<div class="line"><span class="lineno">  358</span>        std::vector&lt;glm::vec3&gt; recalcNormals(collapseRes.vertices.size(), glm::vec3(0.0f));</div>
<div class="line"><span class="lineno">  359</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a259a798e6bec209ca41dd4f0820d4504">SetNormals</a>(recalcNormals);</div>
<div class="line"><span class="lineno">  360</span>        <a class="code hl_function" href="../../d0/d5d/namespaceObject_1_1Utils.html#a7477219f06796f6c77928590f05c00ad">RecalculateNormals</a>(result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>);</div>
<div class="line"><span class="lineno">  361</span>    }</div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!collapseRes.normals.empty())</div>
<div class="line"><span class="lineno">  363</span>    {</div>
<div class="line"><span class="lineno">  364</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a259a798e6bec209ca41dd4f0820d4504">SetNormals</a>(collapseRes.normals);</div>
<div class="line"><span class="lineno">  365</span>    }</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(collapseRes.vertices.size());</div>
<div class="line"><span class="lineno">  368</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> =</div>
<div class="line"><span class="lineno">  369</span>        (result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> &lt; result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>) || (newIndices.size() != indices.size());</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  372</span>}</div>
<div class="ttc" id="anamespaceObject_1_1Utils_html_a7477219f06796f6c77928590f05c00ad"><div class="ttname"><a href="../../d0/d5d/namespaceObject_1_1Utils.html#a7477219f06796f6c77928590f05c00ad">Object::Utils::RecalculateNormals</a></div><div class="ttdeci">void RecalculateNormals(Component::Mesh &amp;mesh)</div><div class="ttdoc">Recalculate normals for a mesh based on face geometry.</div><div class="ttdef"><b>Definition</b> MeshUtils.cpp:41</div></div>
<div class="ttc" id="astructObject_1_1Utils_1_1SimplificationSettings_html_a857b8b5c7aa2fe5f3f9f823d4739fc18"><div class="ttname"><a href="../../de/d5a/structObject_1_1Utils_1_1SimplificationSettings.html#a857b8b5c7aa2fe5f3f9f823d4739fc18">Object::Utils::SimplificationSettings::recalculateNormals</a></div><div class="ttdeci">bool recalculateNormals</div><div class="ttdoc">Whether to recalculate normals after simplification.</div><div class="ttdef"><b>Definition</b> MeshSimplifier.hpp:72</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1ed6f4b6406c961deb26bf6cad64ce6" name="ab1ed6f4b6406c961deb26bf6cad64ce6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1ed6f4b6406c961deb26bf6cad64ce6">&#9670;&#160;</a></span>SimplifyMeshByVoxelization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> Object::Utils::SimplifyMeshByVoxelization </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>targetVertexCount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simplify mesh using uniform grid voxelization. </p>
<p>This method divides the mesh bounding box into a uniform grid and represents each occupied cell with a single vertex at the centroid of all vertices in that cell. This preserves the overall shape better than distance-based clustering for high reduction ratios.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The input mesh to simplify </td></tr>
    <tr><td class="paramname">targetVertexCount</td><td>Approximate target vertex count </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html" title="Result of mesh simplification operation.">SimplificationResult</a> containing the simplified mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  431</span>{</div>
<div class="line"><span class="lineno">  432</span>    <a class="code hl_struct" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> result;</div>
<div class="line"><span class="lineno">  433</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;vertices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>();</div>
<div class="line"><span class="lineno">  436</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;normals = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">GetNormals</a>();</div>
<div class="line"><span class="lineno">  437</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;texCoords = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2cdd7c9ee2ae2c958bcc04bd130831f1">GetTexCoords</a>();</div>
<div class="line"><span class="lineno">  438</span>    <span class="keyword">const</span> <span class="keyword">auto</span> &amp;indices = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a99d24d2bc57a89e50a6bc7ac1cc95c67">GetIndices</a>();</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>    <span class="keywordflow">if</span> (vertices.empty() || vertices.size() &lt;= targetVertexCount)</div>
<div class="line"><span class="lineno">  441</span>    {</div>
<div class="line"><span class="lineno">  442</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a> = mesh;</div>
<div class="line"><span class="lineno">  443</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>;</div>
<div class="line"><span class="lineno">  444</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  445</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>.resize(result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>);</div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>; ++i)</div>
<div class="line"><span class="lineno">  447</span>            result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[i] = i;</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  449</span>    }</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    <span class="comment">// Compute bounding box</span></div>
<div class="line"><span class="lineno">  452</span>    glm::vec3 minBound, maxBound;</div>
<div class="line"><span class="lineno">  453</span>    ComputeBounds(vertices, minBound, maxBound);</div>
<div class="line"><span class="lineno">  454</span>    glm::vec3 extent = maxBound - minBound;</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    <span class="comment">// Calculate cell size to achieve approximately targetVertexCount cells</span></div>
<div class="line"><span class="lineno">  457</span>    <span class="comment">// We want cellsX * cellsY * cellsZ  targetVertexCount</span></div>
<div class="line"><span class="lineno">  458</span>    <span class="comment">// Assuming uniform distribution, use cube root</span></div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordtype">float</span> meshVolume = extent.x * extent.y * extent.z;</div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">if</span> (meshVolume &lt; 1e-10f)</div>
<div class="line"><span class="lineno">  461</span>    {</div>
<div class="line"><span class="lineno">  462</span>        <span class="comment">// Degenerate mesh (flat or line)</span></div>
<div class="line"><span class="lineno">  463</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a> = mesh;</div>
<div class="line"><span class="lineno">  464</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>;</div>
<div class="line"><span class="lineno">  465</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  467</span>    }</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    <span class="comment">// Cell size = cube root of (volume / targetVertexCount)</span></div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordtype">float</span> cellSize = std::cbrt(meshVolume / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(targetVertexCount));</div>
<div class="line"><span class="lineno">  471</span>    cellSize = std::max(cellSize, 1e-4f); <span class="comment">// Minimum cell size</span></div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    <span class="comment">// Calculate grid dimensions</span></div>
<div class="line"><span class="lineno">  474</span>    uint32_t cellsX = std::max(1u, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::ceil(extent.x / cellSize)));</div>
<div class="line"><span class="lineno">  475</span>    uint32_t cellsY = std::max(1u, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::ceil(extent.y / cellSize)));</div>
<div class="line"><span class="lineno">  476</span>    uint32_t cellsZ = std::max(1u, <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::ceil(extent.z / cellSize)));</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    <span class="comment">// Hash function for cell coordinates</span></div>
<div class="line"><span class="lineno">  479</span>    <span class="keyword">auto</span> cellHash = [cellsY, cellsZ](uint32_t x, uint32_t y, uint32_t z) -&gt; uint64_t {</div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(x) * cellsY * cellsZ + <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(y) * cellsZ + z;</div>
<div class="line"><span class="lineno">  481</span>    };</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>    <span class="comment">// Map from cell hash to: (sum of positions, sum of normals, sum of texcoords, count, new index)</span></div>
<div class="line"><span class="lineno">  484</span>    <span class="keyword">struct </span>CellData {</div>
<div class="line"><span class="lineno">  485</span>        glm::vec3 posSum = glm::vec3(0.0f);</div>
<div class="line"><span class="lineno">  486</span>        glm::vec3 normalSum = glm::vec3(0.0f);</div>
<div class="line"><span class="lineno">  487</span>        glm::vec2 texCoordSum = glm::vec2(0.0f);</div>
<div class="line"><span class="lineno">  488</span>        uint32_t count = 0;</div>
<div class="line"><span class="lineno">  489</span>        uint32_t newIndex = UINT32_MAX;</div>
<div class="line"><span class="lineno">  490</span>    };</div>
<div class="line"><span class="lineno">  491</span>    std::unordered_map&lt;uint64_t, CellData&gt; cells;</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    <span class="comment">// Assign each vertex to a cell</span></div>
<div class="line"><span class="lineno">  494</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>.resize(vertices.size());</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordtype">float</span> invCellSize = 1.0f / cellSize;</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; vertices.size(); ++i)</div>
<div class="line"><span class="lineno">  498</span>    {</div>
<div class="line"><span class="lineno">  499</span>        <span class="keyword">const</span> glm::vec3 &amp;v = vertices[i];</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>        <span class="comment">// Calculate cell coordinates</span></div>
<div class="line"><span class="lineno">  502</span>        uint32_t cx = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::floor((v.x - minBound.x) * invCellSize));</div>
<div class="line"><span class="lineno">  503</span>        uint32_t cy = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::floor((v.y - minBound.y) * invCellSize));</div>
<div class="line"><span class="lineno">  504</span>        uint32_t cz = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::floor((v.z - minBound.z) * invCellSize));</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>        <span class="comment">// Clamp to grid bounds</span></div>
<div class="line"><span class="lineno">  507</span>        cx = std::min(cx, cellsX - 1);</div>
<div class="line"><span class="lineno">  508</span>        cy = std::min(cy, cellsY - 1);</div>
<div class="line"><span class="lineno">  509</span>        cz = std::min(cz, cellsZ - 1);</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>        uint64_t key = cellHash(cx, cy, cz);</div>
<div class="line"><span class="lineno">  512</span>        CellData &amp;cell = cells[key];</div>
<div class="line"><span class="lineno">  513</span>        cell.posSum += v;</div>
<div class="line"><span class="lineno">  514</span>        <span class="keywordflow">if</span> (!normals.empty() &amp;&amp; i &lt; normals.size())</div>
<div class="line"><span class="lineno">  515</span>            cell.normalSum += normals[i];</div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">if</span> (!texCoords.empty() &amp;&amp; i &lt; texCoords.size())</div>
<div class="line"><span class="lineno">  517</span>            cell.texCoordSum += texCoords[i];</div>
<div class="line"><span class="lineno">  518</span>        cell.count++;</div>
<div class="line"><span class="lineno">  519</span>    }</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>    <span class="comment">// Create new vertices from cell centroids</span></div>
<div class="line"><span class="lineno">  522</span>    std::vector&lt;glm::vec3&gt; newVertices;</div>
<div class="line"><span class="lineno">  523</span>    std::vector&lt;glm::vec3&gt; newNormals;</div>
<div class="line"><span class="lineno">  524</span>    std::vector&lt;glm::vec2&gt; newTexCoords;</div>
<div class="line"><span class="lineno">  525</span>    newVertices.reserve(cells.size());</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;[key, cell] : cells)</div>
<div class="line"><span class="lineno">  528</span>    {</div>
<div class="line"><span class="lineno">  529</span>        cell.newIndex = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(newVertices.size());</div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordtype">float</span> invCount = 1.0f / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(cell.count);</div>
<div class="line"><span class="lineno">  531</span>        newVertices.push_back(cell.posSum * invCount);</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">if</span> (!normals.empty())</div>
<div class="line"><span class="lineno">  534</span>        {</div>
<div class="line"><span class="lineno">  535</span>            glm::vec3 avgNormal = cell.normalSum * invCount;</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordtype">float</span> len = glm::length(avgNormal);</div>
<div class="line"><span class="lineno">  537</span>            newNormals.push_back(len &gt; 1e-6f ? avgNormal / len : glm::vec3(0.0f, 1.0f, 0.0f));</div>
<div class="line"><span class="lineno">  538</span>        }</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">if</span> (!texCoords.empty())</div>
<div class="line"><span class="lineno">  540</span>        {</div>
<div class="line"><span class="lineno">  541</span>            newTexCoords.push_back(cell.texCoordSum * invCount);</div>
<div class="line"><span class="lineno">  542</span>        }</div>
<div class="line"><span class="lineno">  543</span>    }</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    <span class="comment">// Build vertex map (original index -&gt; new index)</span></div>
<div class="line"><span class="lineno">  546</span>    <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; vertices.size(); ++i)</div>
<div class="line"><span class="lineno">  547</span>    {</div>
<div class="line"><span class="lineno">  548</span>        <span class="keyword">const</span> glm::vec3 &amp;v = vertices[i];</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        uint32_t cx = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::floor((v.x - minBound.x) * invCellSize));</div>
<div class="line"><span class="lineno">  551</span>        uint32_t cy = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::floor((v.y - minBound.y) * invCellSize));</div>
<div class="line"><span class="lineno">  552</span>        uint32_t cz = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(std::floor((v.z - minBound.z) * invCellSize));</div>
<div class="line"><span class="lineno">  553</span>        cx = std::min(cx, cellsX - 1);</div>
<div class="line"><span class="lineno">  554</span>        cy = std::min(cy, cellsY - 1);</div>
<div class="line"><span class="lineno">  555</span>        cz = std::min(cz, cellsZ - 1);</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>        uint64_t key = cellHash(cx, cy, cz);</div>
<div class="line"><span class="lineno">  558</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[i] = cells[key].newIndex;</div>
<div class="line"><span class="lineno">  559</span>    }</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <span class="comment">// Rebuild indices, removing degenerate triangles</span></div>
<div class="line"><span class="lineno">  562</span>    std::vector&lt;uint32_t&gt; newIndices;</div>
<div class="line"><span class="lineno">  563</span>    newIndices.reserve(indices.size());</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i + 2 &lt; indices.size(); i += 3)</div>
<div class="line"><span class="lineno">  566</span>    {</div>
<div class="line"><span class="lineno">  567</span>        uint32_t i0 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i]];</div>
<div class="line"><span class="lineno">  568</span>        uint32_t i1 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i + 1]];</div>
<div class="line"><span class="lineno">  569</span>        uint32_t i2 = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[indices[i + 2]];</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>        <span class="comment">// Skip degenerate triangles</span></div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">if</span> (i0 != i1 &amp;&amp; i1 != i2 &amp;&amp; i0 != i2)</div>
<div class="line"><span class="lineno">  573</span>        {</div>
<div class="line"><span class="lineno">  574</span>            newIndices.push_back(i0);</div>
<div class="line"><span class="lineno">  575</span>            newIndices.push_back(i1);</div>
<div class="line"><span class="lineno">  576</span>            newIndices.push_back(i2);</div>
<div class="line"><span class="lineno">  577</span>        }</div>
<div class="line"><span class="lineno">  578</span>    }</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    <span class="comment">// Build result mesh</span></div>
<div class="line"><span class="lineno">  581</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a222ee6df319635f6bdf75ab9e8f52d30">SetVertices</a>(newVertices);</div>
<div class="line"><span class="lineno">  582</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9a811ab3d56d9df6adb94ee575a3dddd">SetIndices</a>(newIndices);</div>
<div class="line"><span class="lineno">  583</span>    <span class="keywordflow">if</span> (!newNormals.empty())</div>
<div class="line"><span class="lineno">  584</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a259a798e6bec209ca41dd4f0820d4504">SetNormals</a>(newNormals);</div>
<div class="line"><span class="lineno">  585</span>    <span class="keywordflow">if</span> (!newTexCoords.empty())</div>
<div class="line"><span class="lineno">  586</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a79b4506bd198d342f1ab720dce584604">SetTexCoords</a>(newTexCoords);</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>    <span class="comment">// Recalculate normals for better quality</span></div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">if</span> (!newVertices.empty() &amp;&amp; !newIndices.empty())</div>
<div class="line"><span class="lineno">  590</span>    {</div>
<div class="line"><span class="lineno">  591</span>        <a class="code hl_function" href="../../d0/d5d/namespaceObject_1_1Utils.html#a7477219f06796f6c77928590f05c00ad">RecalculateNormals</a>(result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>);</div>
<div class="line"><span class="lineno">  592</span>    }</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(newVertices.size());</div>
<div class="line"><span class="lineno">  595</span>    result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  598</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0345adeb36788a8022a8c73d3e9047d" name="ad0345adeb36788a8022a8c73d3e9047d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0345adeb36788a8022a8c73d3e9047d">&#9670;&#160;</a></span>SimplifyMeshToTarget()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> Object::Utils::SimplifyMeshToTarget </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>targetVertexCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxIterations</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Iteratively simplify mesh until target vertex count is reached. </p>
<p>Unlike SimplifyMesh which does a single pass, this function will progressively increase merge distance until the target is reached or no more reduction is possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The input mesh to simplify </td></tr>
    <tr><td class="paramname">targetVertexCount</td><td>Target maximum number of vertices </td></tr>
    <tr><td class="paramname">maxIterations</td><td>Maximum number of simplification passes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html" title="Result of mesh simplification operation.">SimplificationResult</a> containing the simplified mesh </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  376</span>{</div>
<div class="line"><span class="lineno">  377</span>    <span class="comment">// If already under target, return unchanged</span></div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">if</span> (mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size() &lt;= targetVertexCount)</div>
<div class="line"><span class="lineno">  379</span>    {</div>
<div class="line"><span class="lineno">  380</span>        <a class="code hl_struct" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html">SimplificationResult</a> result;</div>
<div class="line"><span class="lineno">  381</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a> = mesh;</div>
<div class="line"><span class="lineno">  382</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">  383</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>;</div>
<div class="line"><span class="lineno">  384</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9783dc0e6a0ad95ba01ef21cc1706677">wasSimplified</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  385</span>        result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>.resize(result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>);</div>
<div class="line"><span class="lineno">  386</span>        <span class="keywordflow">for</span> (uint32_t i = 0; i &lt; result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a>; ++i)</div>
<div class="line"><span class="lineno">  387</span>            result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#abbe7f813fea9b4b4114ab64c8f2df667">vertexMap</a>[i] = i;</div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  389</span>    }</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>    <span class="comment">// Start with base settings</span></div>
<div class="line"><span class="lineno">  392</span>    SimplificationSettings settings = SimplificationSettings::ForSoftBody(targetVertexCount);</div>
<div class="line"><span class="lineno">  393</span>    <a class="code hl_struct" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> currentMesh = mesh;</div>
<div class="line"><span class="lineno">  394</span>    SimplificationResult bestResult;</div>
<div class="line"><span class="lineno">  395</span>    bestResult.originalVertexCount = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">for</span> (uint32_t iter = 0; iter &lt; maxIterations; ++iter)</div>
<div class="line"><span class="lineno">  398</span>    {</div>
<div class="line"><span class="lineno">  399</span>        <span class="keyword">auto</span> result = SimplifyMesh(currentMesh, settings);</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordflow">if</span> (result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> &lt;= targetVertexCount)</div>
<div class="line"><span class="lineno">  402</span>        {</div>
<div class="line"><span class="lineno">  403</span>            <span class="comment">// Target reached</span></div>
<div class="line"><span class="lineno">  404</span>            result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a> = bestResult.originalVertexCount;</div>
<div class="line"><span class="lineno">  405</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  406</span>        }</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>        <span class="comment">// Not enough reduction, increase aggressiveness</span></div>
<div class="line"><span class="lineno">  409</span>        <span class="keywordflow">if</span> (result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#ab321cf81da6595a4e1a14fa4f4159112">simplifiedVertexCount</a> &gt;= currentMesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size() * 0.95f)</div>
<div class="line"><span class="lineno">  410</span>        {</div>
<div class="line"><span class="lineno">  411</span>            <span class="comment">// No significant progress, increase merge distance more aggressively</span></div>
<div class="line"><span class="lineno">  412</span>            settings.mergeDistance *= 2.0f;</div>
<div class="line"><span class="lineno">  413</span>            settings.aggressiveness = std::min(settings.aggressiveness + 0.15f, 1.0f);</div>
<div class="line"><span class="lineno">  414</span>        }</div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  416</span>        {</div>
<div class="line"><span class="lineno">  417</span>            <span class="comment">// Some progress, moderate increase</span></div>
<div class="line"><span class="lineno">  418</span>            settings.mergeDistance *= 1.5f;</div>
<div class="line"><span class="lineno">  419</span>            settings.aggressiveness = std::min(settings.aggressiveness + 0.1f, 1.0f);</div>
<div class="line"><span class="lineno">  420</span>        }</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>        currentMesh = result.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a9e056e3da0793f23b51eb0240eedbb00">mesh</a>;</div>
<div class="line"><span class="lineno">  423</span>        bestResult = result;</div>
<div class="line"><span class="lineno">  424</span>        bestResult.<a class="code hl_variable" href="../../d2/dd6/structObject_1_1Utils_1_1SimplificationResult.html#a3da68ffd985c1f275db8b3f59a6c178d">originalVertexCount</a> = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size());</div>
<div class="line"><span class="lineno">  425</span>    }</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">return</span> bestResult;</div>
<div class="line"><span class="lineno">  428</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a77f0e971a1f062fe50376f0948bfe668" name="a77f0e971a1f062fe50376f0948bfe668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f0e971a1f062fe50376f0948bfe668">&#9670;&#160;</a></span>ValidateMeshArraySizes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Object::Utils::ValidateMeshArraySizes </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html">Component::Mesh</a> &amp;&#160;</td>
          <td class="paramname"><em>mesh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Validate mesh data integrity. </p>
<p>Checks that vertices, normals, and texCoords arrays have matching sizes. This is a debug utility to catch malformed meshes early.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mesh</td><td>The mesh to validate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if mesh arrays have consistent sizes. </dd>
<dd>
false if there's a size mismatch. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> vertexCount = mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a1af9bfe728ec435b1c2dc49e05818500">GetVertices</a>().size();</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a9593503174a499395b0cdf35a97b0e50">GetNormals</a>().size() == vertexCount &amp;&amp; mesh.<a class="code hl_function" href="../../d6/db7/structObject_1_1Component_1_1Mesh.html#a2cdd7c9ee2ae2c958bcc04bd130831f1">GetTexCoords</a>().size() == vertexCount;</div>
<div class="line"><span class="lineno">  114</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d6/d81/namespaceObject.html">Object</a></li><li class="navelem"><a class="el" href="../../d0/d5d/namespaceObject_1_1Utils.html">Utils</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
